import{q as V,l as I,s as f,v as M,A as N,g as y,_ as q,f as B,r as L,o as _,c as d,a as s,b as c,i,F as w,h as D,j as P,t as h,d as m,n as F,p as T,e as A}from"./index-a42bb908.js";const $=V("especiesData",()=>{const r=I(),e=f([]),l=f([]),u=f(1),t=f(20);M(async()=>{r.cargando=!0;const{data:n}=await N.getSpeciesData();e.value=n,l.value=n,r.cargando=!1});const a=y(()=>Math.ceil(e.value.length/t.value)),o=y(()=>{const n=(u.value-1)*t.value,p=n+t.value;return e.value.slice(n,p)});function v(n){n>=1&&n<=a.value&&(u.value=n)}function b(){l.value&&(e.value=l.value)}function S(n){v(1),e.value=l.value.filter(p=>{const C=n.toLowerCase(),k=p.nom_comunes?p.nom_comunes.toLowerCase():"",E=p.nombre_cientifico?p.nombre_cientifico.toLowerCase():"",x=p.cod_especie.toString();return k.includes(C)||x===n||E.includes(C)})}return{currentPage:u,itemsPerPage:t,totalPages:a,displayedEspeciesData:o,especiesData:e,especiesOriginalesData:l,buscarTermino:S,quitarFiltroEspecie:b,changePage:v}});const g=r=>(T("data-v-434d98a4"),r=r(),A(),r),z={class:"contenedor"},R=g(()=>s("h1",{class:"reporte__heading"},"Datos generales de las especies",-1)),j={class:"contenido__header"},O={class:"buscador"},G=g(()=>s("div",{class:"buscador__contenido"},null,-1)),H=g(()=>s("label",{class:"buscador__label"},"Buscar: ",-1)),J={class:"botones__descarga"},K={class:"boton",href:"#"},Q={class:"boton",href:"#"},U={class:"boton",href:"#"},W=g(()=>s("hr",null,null,-1)),X={class:"reporte__grid"},Y={class:"card__encabezado"},Z={class:"card__nombre"},ss={class:"card__cientifico"},es=g(()=>s("hr",null,null,-1)),os={class:"card__contenido"},as={class:"card__datos"},ts={class:"card__descripcion"},ns={class:"card__dato"},cs={class:"card__datos"},is={class:"card__descripcion"},_s={class:"card__dato"},ds={class:"card__datos"},rs={class:"card__descripcion"},ls={class:"card__dato"},us={class:"card__datos"},ps={class:"card__descripcion"},hs={class:"card__dato"},gs={class:"paginador"},vs={class:"paginador__botones"},fs=["onClick"],ms={class:"validacion__contenido"},bs={key:0,class:"validacion__heading"},Ps={__name:"SpeciesDataView",setup(r){const e=$();B((u,t,a)=>{e.quitarFiltroEspecie(),a()});const l=y(()=>{const u=e.currentPage,t=e.totalPages,a=Math.max(1,u-1),o=Math.min(t,a+3);return Array.from({length:o-a+1},(v,b)=>a+b)});return(u,t)=>{const a=L("font-awesome-icon");return _(),d("div",z,[R,s("div",j,[s("div",O,[G,H,s("input",{class:"buscador__input",type:"text",placeholder:"Escríbe un término de búsqueda",onInput:t[0]||(t[0]=o=>c(e).buscarTermino(o.target.value))},null,32)]),s("div",J,[s("a",K,[i(a,{class:"boton__excel",icon:["fas","file-excel"]})]),s("a",Q,[i(a,{class:"boton__pdf",icon:["fas","file-pdf"]})]),s("a",U,[i(a,{class:"boton__print",icon:["fas","print"]})])])]),W,s("main",X,[(_(!0),d(w,null,D(c(e).displayedEspeciesData,o=>(_(),d("div",{class:"card",key:o.cod_especie},[s("div",Y,[s("p",Z,h(o.nom_comunes),1),s("p",ss,h(o.nombre_cientifico),1)]),es,s("div",os,[s("div",as,[s("p",ts,[i(a,{icon:["fas","hashtag"]}),m(" Código especie: ")]),s("p",ns,h(o.cod_especie),1)]),s("div",cs,[s("p",is,[i(a,{icon:["fas","magnifying-glass-location"]}),m(" Monitoreos: ")]),s("p",_s,h(o.monitoreos),1)]),s("div",ds,[s("p",rs,[i(a,{icon:["fas","vial"]}),m(" Muestras: ")]),s("p",ls,h(o.muestras),1)]),s("div",us,[s("p",ps,[i(a,{icon:["fas","dna"]}),m(" Evaluados: ")]),s("p",hs,h(o.evaluados),1)])])]))),128))]),s("section",gs,[s("div",vs,[c(e).currentPage>1?(_(),d("button",{key:0,class:"paginador__boton paginador__boton--anterior",onClick:t[1]||(t[1]=o=>c(e).changePage(c(e).currentPage-1))},[i(a,{icon:["fas","angles-left"]})])):P("",!0),(_(!0),d(w,null,D(l.value,o=>(_(),d("button",{key:o,onClick:v=>c(e).changePage(o),class:F(["paginador__boton",{"paginador__boton-actual":o===c(e).currentPage}])},h(o),11,fs))),128)),c(e).currentPage<c(e).totalPages?(_(),d("button",{key:1,class:"paginador__boton paginador__boton--siguiente",onClick:t[2]||(t[2]=o=>c(e).changePage(c(e).currentPage+1))},[i(a,{icon:["fas","angles-right"]})])):P("",!0)])]),s("section",ms,[c(e).especiesData.length==0?(_(),d("h1",bs," No hay resultados de búsqueda ")):P("",!0)])])}}},Cs=q(Ps,[["__scopeId","data-v-434d98a4"]]);export{Cs as default};
