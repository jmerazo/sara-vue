import{B as D,r as s,o as E,C as P,E as _,h as f}from"./index-58a73ee5.js";const b=D("especiesData",()=>{const a=s([]),t=s([]),n=s([]),i=s(!1),u=s(1),c=s(20);E(async()=>{i.value=!0;const{data:e}=await P.getSpeciesData();a.value=e,t.value=e,i.value=!1});function p(){a.value.forEach(e=>{n.value.push(e)})}_(()=>a.value,()=>{n.value=[],p()},{deep:!0});const l=f(()=>Math.ceil(a.value.length/c.value)),d=f(()=>{try{const e=(u.value-1)*c.value,o=e+c.value;return a.value.slice(e,o)}catch{console.log("esperando paginaciÃ³n...")}});function r(e){e>=1&&e<=l.value&&(u.value=e)}function g(){t.value&&(a.value=t.value)}function m(e){r(1),a.value=t.value.filter(o=>{const v=e.toLowerCase(),h=o.nom_comunes?o.nom_comunes.toLowerCase():"",w=o.nombre_cientifico?o.nombre_cientifico.toLowerCase():"",C=o.cod_especie.toString();return h.includes(v)||C===e||w.includes(v)})}return{cargando:i,currentPage:u,itemsPerPage:c,totalPages:l,displayedEspeciesData:d,especiesData:a,especiesOriginalesData:t,datosImport:n,buscarTermino:m,quitarFiltroEspecie:g,changePage:r}});export{b as u};
