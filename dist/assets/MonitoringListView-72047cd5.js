import{s as E,v as k,w as V,A as z,Z as y,U as R,h as N,_ as A,f as T,r as q,o as f,c as b,a,b as _,j as m,k as C,l as G,F as w,i as D,Q as O,R as L,S as x,d as c,t as o,n as t,p as H,e as Q,a1 as U,L as Z}from"./index-fa7bc976.js";const J=E("generalMonitoring",()=>{const r=k({}),e=k([]),I=k([]),p=k(!1),v=k(1),n=k(12);V(async()=>{p.value=!0;const{data:d}=await z.getMonitoringData();r.value=d,e.value=d,y(r.value,"fecha_monitoreo"),y(e.value,"fecha_monitoreo"),p.value=!1});function i(){r.value.forEach(d=>{I.value.push(d)})}R(()=>r.value,()=>{I.value=[],i()},{deep:!0});function s(d){P(1),r.value=e.value.filter(u=>{const F=d.toLowerCase(),$=u.nom_comunes?u.nom_comunes.toLowerCase():"",j=u.nombre_cientifico?u.nombre_cientifico.toLowerCase():"",S=u.cod_especie!=null?u.cod_especie.toString():"",B=u.numero_placa!=null?u.numero_placa.toString():"";return $.includes(F)||j.includes(F)||S===d||B===d})}const l=N(()=>Math.ceil(r.value.length/n.value)),g=N(()=>{try{const d=(v.value-1)*n.value,u=d+n.value;return r.value.slice(d,u)}catch{console.log("esperando paginación...")}});function P(d){d>=1&&d<=l.value&&(v.value=d)}function M(){e.value&&(r.value=e.value)}return{cargando:p,currentPage:v,itemsPerPage:n,totalPages:l,displayedData:g,datosImport:I,monitoringData:r,buscarTermino:s,changePage:P,quitarFiltroBuscado:M}});const h=r=>(H("data-v-44b07171"),r=r(),Q(),r),K={class:"contenedor"},W=h(()=>a("h1",{class:"reporte__heading"},"Reporte general de monitoreos",-1)),X={class:"contenido__header"},Y={class:"buscador"},ss=h(()=>a("div",{class:"buscador__contenido"},null,-1)),as=h(()=>a("label",{class:"buscador__label"},"Buscar: ",-1)),os={key:0,class:"botones__descarga"},es=h(()=>a("hr",null,null,-1)),ts={class:"monitoreos__grid"},cs={class:"card"},ns={class:"card__encabezado"},_s={class:"fecha__monitoreo"},is={class:"dato"},ls={class:"especie"},ds=h(()=>a("div",{class:"especie__imagen"},[a("img",{src:U,alt:"icon monitoreo"})],-1)),rs={class:"especie__info nombre__comun"},ps={class:"especie__info"},us={class:"especie__info"},fs={class:"especie__info"},hs=h(()=>a("hr",null,null,-1)),vs=["id"],gs=["onClick"],bs={class:"datos"},ms=h(()=>a("h4",{class:"datos__titulo"},"Datos Fruto",-1)),Is={class:"datos__item"},ks={class:"datos__item"},Cs={class:"datos__item"},Ns={class:"datos__item"},Ps=h(()=>a("h4",{class:"datos__titulo"},"Datos Flor",-1)),Fs={class:"datos__item"},ys={class:"datos__item"},ws={class:"datos__item"},Ds={class:"datos__item"},Ls=["onClick"],Ms=["id"],$s=["onClick"],js={class:"datos"},Ss=h(()=>a("h4",{class:"datos__titulo"},"Ambiente",-1)),Bs={class:"datos__item"},Es={class:"datos__item"},Vs={class:"datos__item"},zs={class:"datos__item"},Rs=h(()=>a("h4",{class:"datos__titulo"},"Crecimiento",-1)),As={class:"datos__item"},Ts={class:"datos__item"},qs={class:"datos__item"},Gs={class:"datos__item"},Os=["onClick"],xs=["id"],Hs=["onClick"],Qs={class:"datos"},Us={class:"datos__item"},Zs={class:"datos__item"},Js={class:"datos__item"},Ks={class:"datos__item"},Ws=["onClick"],Xs={class:"paginador"},Ys={class:"paginador__botones"},sa=["onClick"],aa={class:"validacion__contenido"},oa={key:0,class:"validacion__heading"},ea={__name:"MonitoringListView",setup(r){const e=J();T((v,n,i)=>{e.quitarFiltroBuscado(),i()});const I=N(()=>{const v=e.currentPage,n=e.totalPages,i=Math.max(1,v-1),s=Math.min(n,i+3);return Array.from({length:s-i+1},(l,g)=>i+g)});function p(v){const n=document.getElementById(v);n.classList.contains("active")?n.classList.remove("active"):n.classList.add("active")}return(v,n)=>{const i=q("font-awesome-icon");return f(),b("div",K,[W,a("div",X,[a("div",Y,[ss,as,a("input",{onInput:n[0]||(n[0]=s=>_(e).buscarTermino(s.target.value)),class:"buscador__input",type:"text",placeholder:"Escríbe un término de búsqueda"},null,32)]),I.value.length>=1?(f(),b("div",os,[a("a",{onClick:n[1]||(n[1]=s=>_(O)(_(e).datosImport,`Reporte general de monitoreos - ${_(L)()}`)),class:"boton",href:"#"},[m(i,{class:"boton__excel",icon:["fas","file-excel"]})]),a("a",{onClick:n[2]||(n[2]=s=>_(x)(_(e).datosImport,`Reporte general de monitoreos - ${_(L)()}`,9,5)),class:"boton",href:"#"},[m(i,{class:"boton__pdf",icon:["fas","file-pdf"]})])])):C("",!0)]),es,_(e).cargando?(f(),G(Z,{key:0})):C("",!0),a("main",ts,[(f(!0),b(w,null,D(_(e).displayedData,(s,l)=>(f(),b("div",{key:l},[a("div",cs,[a("div",ns,[a("p",_s,[c(" Fecha Monitoreo: "),a("span",is,o(s.fecha_monitoreo),1)])]),a("div",ls,[ds,a("p",rs,[a("span",{class:t(["dato",{sinInfo:!s.nom_comunes}])},o(s.nom_comunes),3)]),a("p",ps,[a("span",{class:t(["dato",{sinInfo:!s.nombre_cientifico}])},o(s.nombre_cientifico),3)]),a("p",us,[c(" código especie: "),a("span",{class:t(["dato",{sinInfo:!s.cod_especie}])},o(s.cod_especie),3)]),a("p",fs,[c(" # placa: "),a("span",{class:t(["dato",{sinInfo:!s.numero_placa}])},o(s.numero_placa?s.numero_placa:"Sin placa"),3)])]),hs,a("div",{class:"informacion__seccion",id:l+"a"},[a("button",{id:"boton-especie",class:"card__boton",onClick:g=>p(l+"a")}," Desarrollo especie ",8,gs),a("div",bs,[ms,a("p",Is,[c(" Color fruto: "),a("span",{class:t(["dato",{sinInfo:!s.color_fruto}])},o(s.color_fruto?s.color_fruto:"No reportado"),3)]),a("p",ks,[c(" Fauna frutos: "),a("span",{class:t(["dato",{sinInfo:!s.fauna_frutos}])},o(s.fauna_frutos?s.fauna_frutos:"No reportado"),3)]),a("p",Cs,[c(" Estado madurez: "),a("span",{class:t(["dato",{sinInfo:!s.estado_madurez}])},o(s.estado_madurez?s.estado_madurez:"No reportado"),3)]),a("p",Ns,[c(" Cant. semillas: "),a("span",{class:t(["dato",{sinInfo:!s.cant_semillas}])},o(s.cant_semillas?s.cant_semillas:"No reportado"),3)]),Ps,a("p",Fs,[c(" Color Flor: "),a("span",{class:t(["dato",{sinInfo:!s.color_flor}])},o(s.color_flor?s.color_flor:"No reportado"),3)]),a("p",ys,[c(" Flor abierta: "),a("span",{class:t(["dato",{sinInfo:!s.flor_abierta}])},o(s.flor_abierta?s.flor_abierta:"No reportado"),3)]),a("p",ws,[c(" Flor boton: "),a("span",{class:t(["dato",{sinInfo:!s.flor_boton}])},o(s.flor_boton?s.flor_boton:"No reportado"),3)]),a("p",Ds,[c(" Fauna flor: "),a("span",{class:t(["dato",{sinInfo:!s.fauna_flor}])},o(s.fauna_flor?s.fauna_flor:"No reportado"),3)]),a("p",{onClick:g=>p(l+"a"),class:"recoger"},[m(i,{icon:["fas","arrow-up-from-bracket"]})],8,Ls)])],8,vs),a("div",{class:"informacion__seccion",id:l+"b"},[a("button",{id:"boton-especie",class:"card__boton",onClick:g=>p(l+"b")}," Ambiente y crecimiento ",8,$s),a("div",js,[Ss,a("p",Bs,[c(" Precipitacion: "),a("span",{class:t(["dato",{sinInfo:!s.precipitacion}])},o(s.precipitacion?s.precipitacion:"No reportado"),3)]),a("p",Es,[c(" Temperatura: "),a("span",{class:t(["dato",{sinInfo:!s.temperatura}])},o(s.temperatura?s.temperatura:"No reportado"),3)]),a("p",Vs,[c(" Humedad: "),a("span",{class:t(["dato",{sinInfo:!s.humedad}])},o(s.humedad?s.humedad:"No reportado"),3)]),a("p",zs,[c(" Factor climatico: "),a("span",{class:t(["dato",{sinInfo:!s.factor_climatico}])},o(s.factor_climatico?s.factor_climatico:"No reportado"),3)]),Rs,a("p",As,[c(" Medida-Peso Frutos: "),a("span",{class:t(["dato",{sinInfo:!s.medida_peso_frutos}])},o(s.medida_peso_frutos?s.medida_peso_frutos:"No reportado"),3)]),a("p",Ts,[c(" Medida-Peso semillas: "),a("span",{class:t(["dato",{sinInfo:!s.medida_peso_sem}])},o(s.medida_peso_sem?s.medida_peso_sem:"No reportado"),3)]),a("p",qs,[c(" Follaje: "),a("span",{class:t(["dato",{sinInfo:!s.follaje_porcentaje}])},o(s.follaje_porcentaje?s.follaje_porcentaje:"No reportado"),3)]),a("p",Gs,[c(" Fitosanitario: "),a("span",{class:t(["dato",{sinInfo:!s.fitosanitario}])},o(s.fitosanitario?s.fitosanitario:"No reportado"),3)]),a("p",{onClick:g=>p(l+"b"),class:"recoger"},[m(i,{icon:["fas","arrow-up-from-bracket"]})],8,Os)])],8,Ms),a("div",{class:"informacion__seccion",id:l+"c"},[a("button",{id:"boton-especie",class:"card__boton",onClick:g=>p(l+"c")}," Obervaciones ",8,Hs),a("div",Qs,[a("p",Us,[c(" Frutos: "),a("span",{class:t(["dato",{sinInfo:!s.observacion_frutos}])},o(s.observacion_frutos?s.observacion_frutos:"No reportado"),3)]),a("p",Zs,[c(" Flor: "),a("span",{class:t(["dato",{sinInfo:!s.observaciones_flor}])},o(s.observaciones_flor?s.observaciones_flor:"No reportado"),3)]),a("p",Js,[c(" Follaje: "),a("span",{class:t(["dato",{sinInfo:!s.observaciones_follaje}])},o(s.observaciones_follaje?s.observaciones_follaje:"No reportado"),3)]),a("p",Ks,[c(" General: "),a("span",{class:t(["dato",{sinInfo:!s.observaciones}])},o(s.observaciones?s.observaciones:"No reportado"),3)]),a("p",{onClick:g=>p(l+"c"),class:"recoger"},[m(i,{icon:["fas","arrow-up-from-bracket"]})],8,Ws)])],8,xs)])]))),128))]),a("section",Xs,[a("div",Ys,[_(e).currentPage>1?(f(),b("button",{key:0,class:"paginador__boton paginador__boton--anterior",onClick:n[3]||(n[3]=s=>_(e).changePage(_(e).currentPage-1))},[m(i,{icon:["fas","angles-left"]})])):C("",!0),(f(!0),b(w,null,D(I.value,s=>(f(),b("button",{key:s,onClick:l=>_(e).changePage(s),class:t(["paginador__boton",{"paginador__boton-actual":s===_(e).currentPage}])},o(s),11,sa))),128)),_(e).currentPage<_(e).totalPages?(f(),b("button",{key:1,class:"paginador__boton paginador__boton--siguiente",onClick:n[4]||(n[4]=s=>_(e).changePage(_(e).currentPage+1))},[m(i,{icon:["fas","angles-right"]})])):C("",!0)])]),a("section",aa,[_(e).monitoringData.length==0&&!_(e).cargando?(f(),b("h1",oa," No hay resultados de búsqueda ")):C("",!0)])])}}},ca=A(ea,[["__scopeId","data-v-44b07171"]]);export{ca as default};
