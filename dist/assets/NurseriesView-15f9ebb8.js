import{_ as T,r as y,h as f,E as N,o as S,v as V,b as r,c as i,d as e,w as B,x as I,t as c,F as m,i as b,l as s,q as _,m as g,I as L,k as M,R as $,n as E,p as F,e as R}from"./index-58a73ee5.js";import{u as D}from"./nurseries-41941f5a.js";import{B as A}from"./ButtonTop-90692b96.js";const d=u=>(F("data-v-95327fe0"),u=u(),R(),u),Z={class:"nurseries"},j={class:"header"},q={class:"header__content"},z={class:"header__form"},H=d(()=>e("h1",{class:"header__title"},"Listado de Viveros",-1)),U={class:"form"},W=d(()=>e("div",{class:"form__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m15.75 15.75-2.489-2.489m0 0a3.375 3.375 0 1 0-4.773-4.773 3.375 3.375 0 0 0 4.774 4.774ZM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])],-1)),G={key:0,class:"form__results"},J={key:1,class:"form__results"},K={class:"main"},O={class:"results__grid"},Q={class:"card__image-container"},X={class:"card__image"},Y=["src","alt"],ee={class:"card__contact"},oe={class:"card__information"},te={class:"card__title"},se={class:"information"},ae=d(()=>e("span",{class:"information__title"},"Rep. Legal:",-1)),ne=d(()=>e("span",{class:"information__title"},"Departamento:",-1)),re=d(()=>e("span",{class:"information__title"},"Municipio:",-1)),ie=["href"],ce=d(()=>e("span",{class:"information__title"},"WhatsApp",-1)),_e={class:"buttons__information"},le={class:"paginador"},de={class:"paginador__botones"},ue=["onClick"],pe={class:"paginador__info"},ge={__name:"NurseriesView",setup(u){const l=y(""),k=f(()=>l.value!==""),t=D(),P=f(()=>{const p=t.currentPage,a=t.totalPages,n=Math.max(1,p-1),o=Math.min(a,n+3);return Array.from({length:o-n+1},(v,C)=>n+C)}),w=()=>{window.scrollTo({top:0,behavior:"smooth"})},h=()=>{t.searchTerm(l.value)},x=((p,a)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>p(...o),a)}})(h,300);return N(l,()=>{x()}),S(async()=>{w()}),(p,a)=>{const n=V("font-awesome-icon");return r(),i(m,null,[e("div",Z,[e("header",j,[e("div",q,[e("div",z,[H,e("div",U,[B(e("input",{class:"form__input",type:"text",placeholder:"Buscar un vivero o especie","onUpdate:modelValue":a[0]||(a[0]=o=>l.value=o),onInput:h},null,544),[[I,l.value]]),W]),k.value?(r(),i("p",G," para "+c(l.value),1)):(r(),i("p",J," Buscar un vivero o especie forestal "))])])]),e("main",K,[e("div",O,[(r(!0),i(m,null,b(s(t).paginatedNurseries,o=>(r(),i("article",{class:"card",key:o.id},[e("div",Q,[e("div",X,[e("img",{src:o.image_url||"/img/no_img_nurseries.png",alt:o.nombre_vivero,class:"nursery-image"},null,8,Y)])]),e("div",ee,[e("div",oe,[e("h5",te,c(o.nombre_vivero),1),e("div",se,[e("p",null,[ae,e("span",null,c(o.first_name)+" "+c(o.last_name),1)]),e("p",null,[ne,e("span",null,c(o.departamento),1)]),e("p",null,[re,e("span",null,c(o.municipio),1)]),e("a",{style:{color:"var(--primary)","margin-top":"1rem"},href:`https://api.whatsapp.com/send?phone=57${o.phone_number}&text=Hola, me puedes dar información sobre el vivero ${o.nombre_vivero}?`,ref_for:!0,ref:"noopener noreferrer",target:"_blank"},[ce,_(n,{icon:["fab","whatsapp"]})],8,ie)])]),e("div",_e,[_(s($),{class:"card__button",to:{name:"nursery"},onClick:v=>s(t).getNursery(o)},{default:L(()=>[M(" Especies ")]),_:2},1032,["onClick"])])])]))),128))])]),e("section",le,[e("div",de,[s(t).currentPage>1?(r(),i("button",{key:0,class:"paginador__boton paginador__boton--inicio",onClick:a[1]||(a[1]=(...o)=>s(t).goToFirstPage&&s(t).goToFirstPage(...o))},[_(n,{icon:["fas","angle-double-left"]})])):g("",!0),s(t).currentPage>1?(r(),i("button",{key:1,class:"paginador__boton paginador__boton--anterior",onClick:a[2]||(a[2]=o=>s(t).changePage(s(t).currentPage-1))},[_(n,{icon:["fas","angle-left"]})])):g("",!0),(r(!0),i(m,null,b(P.value,o=>(r(),i("button",{key:o,onClick:v=>s(t).changePage(o),class:E(["paginador__boton",{"paginador__boton-actual":o===s(t).currentPage}])},c(o),11,ue))),128)),s(t).currentPage<s(t).totalPages?(r(),i("button",{key:2,class:"paginador__boton paginador__boton--siguiente",onClick:a[3]||(a[3]=o=>s(t).changePage(s(t).currentPage+1))},[_(n,{icon:["fas","angle-right"]})])):g("",!0),s(t).currentPage<s(t).totalPages?(r(),i("button",{key:3,class:"paginador__boton paginador__boton--final",onClick:a[4]||(a[4]=(...o)=>s(t).goToLastPage&&s(t).goToLastPage(...o))},[_(n,{icon:["fas","angle-double-right"]})])):g("",!0)]),e("div",pe," Página "+c(s(t).currentPage)+" de "+c(s(t).totalPages),1)])]),_(A)],64)}}},be=T(ge,[["__scopeId","data-v-95327fe0"]]);export{be as default};
