import{B as P,r as s,C as o}from"./index-58a73ee5.js";import{u as C}from"./modal-07ceaae3.js";const T=P("pageContent",()=>{const d=C(),i=s([]),g=s([]),c=s([]),n=s([]),r=s([]),l=s([]),v=async()=>{if(i.value.length===0){const{data:e}=await o.getPageContent();i.value=e,i.value.forEach(a=>{g.value.push({titulo:a.title,descripcion:a.content})})}},f=async()=>{const{data:e}=await o.pagesGet();c.value=e},p=async e=>{try{const a=await o.pagesCreate(e);a.status===200?c.value.push(e):console.error("Error al agregar la página: ",a.statusText)}catch(a){console.error("Error al comunicarse con el servidor: ",a)}},S=async(e,a)=>{const t=c.value.findIndex(u=>u.id===e);t!==-1?(Object.assign(c.value[t],a),await o.pagesUpdate(e,a)):console.error(`Página con ID ${e} no encontrada.`)};async function m(e){const a=c.value.findIndex(t=>t.id===e);return a===-1?{message:"Página no encontrada"}:(c.value.splice(a,1),await o.pagesDelete(e),{message:"Página eliminada con éxito"})}const x=async()=>{const{data:e}=await o.sectionGet();n.value=e},w=async e=>{try{const a=await o.sectionCreate(e);a.status===200?n.value.push(e):console.error("Error al agregar la sección: ",a.statusText)}catch(a){console.error("Error al comunicarse con el servidor: ",a)}};function y(e){r.value=n.value.filter(a=>a.id===e),d.handleClickModalSectionUpdate(r.value)}function D(e){l.value=n.value.filter(a=>a.id===e),d.handleClickModalSectionView(l.value)}const h=async(e,a)=>{console.log("id sectio: ",e,a);const t=n.value.findIndex(u=>u.id===e);t!==-1?(Object.assign(n.value[t],a),await o.sectionUpdate(e,a)):console.error(`Sección con ID ${e} no encontrada.`)};async function I(e){const a=n.value.findIndex(t=>t.id===e);return a===-1?{message:"Sección no encontrada"}:(n.value.splice(a,1),await o.sectionDelete(e),{message:"Sección eliminada con éxito"})}return{informacionUsuario:g,contenidoNosotros:i,fetchData:v,pagesData:f,pageData:c,sectionData:n,sectionsData:x,updatePage:S,addPage:p,deletePage:m,addSection:w,updateSection:h,deleteSection:I,selectedSectionUpdate:y,sectionSelected:r,selectedSectionView:D,sectionSelectedView:l}});export{T as u};
