import{_ as w,a as S,J as E,r as h,b as r,c,d as e,t as a,l as t,k as u,F as I,i as x,K as D,w as f,x as v,p as V,e as k}from"./index-58a73ee5.js";import{u as N}from"./nurseries-41941f5a.js";import{u as C}from"./consulta-e9495bee.js";import"./modal-07ceaae3.js";const n=l=>(V("data-v-e9e393b5"),l=l(),k(),l),T={class:"main"},$={class:"general"},M=n(()=>e("div",{class:"general__information"},null,-1)),R={class:"general__title"},j={class:"nursery__data"},U={class:"species"},A=n(()=>e("h3",null,"Especies",-1)),B={key:0},F={class:"species__content"},L={class:"species__common-name"},O={class:"species__scientific-name"},q={class:"species__sale-type"},z={class:"species__unit"},J=["onClick"],K={key:1,class:"species__empty"},P=n(()=>e("p",null,"No hay especies disponibles para este vivero.",-1)),G=[P],H={class:"contact"},Q=n(()=>e("h3",{class:"contact__title"},"Contacto",-1)),W=["onSubmit"],X={class:"contact__field"},Y=n(()=>e("label",{for:"email",class:"contact__label"},"Ingrese su correo:",-1)),Z={class:"contact__field"},ee=n(()=>e("label",{for:"message",class:"contact__label"},"Escriba su mensaje:",-1)),se=n(()=>e("button",{type:"submit",class:"contact__button"},"Enviar mensaje",-1)),te={class:"general map",style:{position:"relative"}},oe=n(()=>e("h3",null,"Ubicación del vivero",-1)),ae=["href"],ne=["src"],ie={__name:"NurserySoughtView",setup(l){const y=C(),s=N();console.log("nurseries: ",s);const b=S(),{addToast:p}=E(),i=h({subject:"SARA - SOLICITUD INFORMACIÓN ESPECIES VIVERO",from_email:"",body:""});h(null);const g=async()=>{try{(await s.sendEmail(i.value)).status===200?(p("Mensaje enviado con éxito",{type:"success",duration:3e3}),setTimeout(()=>{b.push({name:"nurseries"})},3e3)):m("Error enviando la solicitud")}catch{m("Error enviando la solicitud")}};function m(_){p(_,{type:"error",duration:3e3})}return(_,d)=>(r(),c("div",T,[e("section",$,[M,e("h2",R,a(t(s).nursery.nombre_vivero),1),e("div",j,[e("p",null,[u(" Representante Legal: "),e("span",null,a(t(s).nursery.first_name)+" "+a(t(s).nursery.last_name),1)]),e("p",null,[u(" Departamento: "),e("span",null,a(t(s).nursery.departamento),1)]),e("p",null,[u(" Municipio: "),e("span",null,a(t(s).nursery.municipio),1)]),e("p",null,[u(" Contacto: "),e("span",null,a(t(s).nursery.telefono),1)])]),e("div",U,[A,t(s).nursery.especies&&t(s).nursery.especies.length>0?(r(),c("div",B,[(r(!0),c(I,null,x(t(s).nursery.especies,o=>(r(),c("div",{key:o.id,class:"species__card"},[e("div",F,[e("h4",L,a(o.nom_comunes),1),e("p",O,a(o.nombre_cientifico_especie)+" - "+a(o.nombre_autor_especie),1),e("p",q,a(o.tipo_venta),1),e("p",z,a(o.unidad_medida),1)]),e("button",{onClick:re=>t(y).consultSpecie(o.especie_forestal_id),class:"species__button"},"Ver especie",8,J)]))),128))])):(r(),c("div",K,G))]),e("div",H,[Q,e("form",{onSubmit:D(g,["prevent"]),class:"contact__form"},[e("div",X,[Y,f(e("input",{type:"email",id:"email","onUpdate:modelValue":d[0]||(d[0]=o=>i.value.from_email=o),class:"contact__input",required:""},null,512),[[v,i.value.from_email]])]),e("div",Z,[ee,f(e("textarea",{id:"message","onUpdate:modelValue":d[1]||(d[1]=o=>i.value.body=o),class:"contact__textarea",required:""},null,512),[[v,i.value.body]])]),se],40,W)])]),e("section",te,[oe,e("a",{class:"button__map",target:"_blank",href:`https://www.google.com/maps/dir//1.3973283,${t(s).filteredData[0].lon}/@${t(s).filteredData[0].lat},${t(s).filteredData[0].lon},13z/data=!4m2!4m1!3e0?entry=ttu`},"¿cómo llegar?",8,ae),e("iframe",{src:`https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d15947.46284712634!2d${t(s).filteredData[0].lon}!3d${t(s).filteredData[0].lat}!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1ses!2sco!4v1717099826909!5m2!1ses!2sco`,width:"100%",height:"450",style:{border:"0",position:"relative"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"},null,8,ne)])]))}},ue=w(ie,[["__scopeId","data-v-e9e393b5"]]);export{ue as default};
