import{B as D,r as a,o as S,C as d,h as u}from"./index-58a73ee5.js";const F=D("nurseries",()=>{const n=a([]),v=a([]),t=a([]);a([]);const i=a(1),c=a(6);S(async()=>{const{data:o}=await d.listNurseries();n.value=o,v.value=o});const w=async o=>{try{t.value=o}catch(e){console.log(e)}},l=u(()=>Math.ceil(n.value.length/c.value)),p=u(()=>{const o=(i.value-1)*c.value,e=o+c.value;return n.value.slice(o,e)});function r(o){o>=1&&o<=l.value&&(i.value=o,window.scrollTo({top:0,behavior:"smooth"}))}function m(){r(1)}function g(){r(l.value)}const f=u(()=>{const o=t.value.ubicacion.split(",").map(e=>parseFloat(e.trim()));return[{lon:o[1],lat:o[0]}]}),N=async o=>{try{return await d.sendEmail(o)}catch(e){throw console.error("Error sending email:",e),e}};function h(o){r(1),n.value=v.value.filter(e=>{const s=o.toLowerCase(),L=e.nombre_vivero?e.nombre_vivero.toLowerCase():"",y=e.nit?e.nit.toLowerCase():"",C=e.first_name?e.first_name.toLowerCase():"",P=e.last_name?e.last_name.toLowerCase():"",_=e.departamento?e.departamento.toLowerCase():"",T=e.municipio?e.municipio.toLowerCase():"",b=e.especies.vernacularName?e.especies.vernacularName.toLowerCase():"";return L.includes(s)||y.includes(s)||C.includes(s)||P.includes(s)||_.includes(s)||T.includes(s)||b.includes(s)})}return{getNursery:w,nursery:t,nurseriesData:n,filteredData:f,sendEmail:N,paginatedNurseries:p,changePage:r,goToFirstPage:m,goToLastPage:g,totalPages:l,currentPage:i,searchTerm:h}});export{F as u};
