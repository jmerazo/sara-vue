import{s as V,v as h,w as $,A as B,U as M,h as y,_ as N,f as F,r as q,o as r,c as _,a as e,b as t,j as d,k as f,l as T,F as C,i as w,Q as A,S as R,R as z,t as p,d as b,n as j,p as O,e as Q,$ as U,L as G}from"./index-fa7bc976.js";const H=V("especiesData",()=>{const i=h([]),s=h([]),g=h([]),l=h(!1),n=h(1),o=h(20);$(async()=>{l.value=!0;const{data:c}=await B.getSpeciesData();i.value=c,s.value=c,l.value=!1});function a(){i.value.forEach(c=>{g.value.push(c)})}M(()=>i.value,()=>{g.value=[],a()},{deep:!0});const m=y(()=>Math.ceil(i.value.length/o.value)),P=y(()=>{try{const c=(n.value-1)*o.value,u=c+o.value;return i.value.slice(c,u)}catch{console.log("esperando paginación...")}});function k(c){c>=1&&c<=m.value&&(n.value=c)}function S(){s.value&&(i.value=s.value)}function E(c){k(1),i.value=s.value.filter(u=>{const D=c.toLowerCase(),x=u.nom_comunes?u.nom_comunes.toLowerCase():"",I=u.nombre_cientifico?u.nombre_cientifico.toLowerCase():"",L=u.cod_especie.toString();return x.includes(D)||L===c||I.includes(D)})}return{cargando:l,currentPage:n,itemsPerPage:o,totalPages:m,displayedEspeciesData:P,especiesData:i,especiesOriginalesData:s,datosImport:g,buscarTermino:E,quitarFiltroEspecie:S,changePage:k}});const v=i=>(O("data-v-7e073032"),i=i(),Q(),i),J={class:"contenedor"},K=v(()=>e("h1",{class:"reporte__heading"},"Datos generales de las especies",-1)),W={class:"contenido__header"},X={class:"buscador"},Y=v(()=>e("div",{class:"buscador__contenido"},null,-1)),Z=v(()=>e("label",{class:"buscador__label"},"Buscar: ",-1)),ee={key:0,class:"botones__descarga"},se=v(()=>e("hr",null,null,-1)),ae={class:"reporte__grid"},oe={class:"card__encabezado"},te=v(()=>e("div",{class:"card__imagen"},[e("img",{src:U,alt:"especies"})],-1)),ne={class:"card__nombre"},ce={class:"card__cientifico"},ie=v(()=>e("hr",null,null,-1)),re={class:"card__contenido"},_e={class:"card__datos"},de={class:"card__descripcion"},le={class:"card__dato"},ue={class:"card__datos"},pe={class:"card__descripcion"},ge={class:"card__dato"},he={class:"card__datos"},ve={class:"card__descripcion"},fe={class:"card__dato"},me={class:"card__datos"},be={class:"card__descripcion"},Pe={class:"card__dato"},ye={class:"paginador"},ke={class:"paginador__botones"},De=["onClick"],Ce={class:"validacion__contenido"},we={key:0,class:"validacion__heading"},Se={__name:"SpeciesDataView",setup(i){const s=H();F((l,n,o)=>{s.quitarFiltroEspecie(),o()});const g=y(()=>{const l=s.currentPage,n=s.totalPages,o=Math.max(1,l-1),a=Math.min(n,o+3);return Array.from({length:a-o+1},(m,P)=>o+P)});return(l,n)=>{const o=q("font-awesome-icon");return r(),_("div",J,[K,e("div",W,[e("div",X,[Y,Z,e("input",{class:"buscador__input",type:"text",placeholder:"Escríbe un término de búsqueda",onInput:n[0]||(n[0]=a=>t(s).buscarTermino(a.target.value))},null,32)]),g.value.length>1?(r(),_("div",ee,[e("a",{onClick:n[1]||(n[1]=a=>t(A)(t(s).datosImport,"Datos generales")),class:"boton",href:"#"},[d(o,{class:"boton__excel",icon:["fas","file-excel"]})]),e("a",{onClick:n[2]||(n[2]=a=>t(R)(t(s).datosImport,`Datos generales - ${t(z)()}`,6,0)),class:"boton",href:"#"},[d(o,{class:"boton__pdf",icon:["fas","file-pdf"]})])])):f("",!0)]),se,t(s).cargando?(r(),T(G,{key:0})):f("",!0),e("main",ae,[(r(!0),_(C,null,w(t(s).displayedEspeciesData,a=>(r(),_("div",{class:"card",key:a.cod_especie},[e("div",oe,[te,e("p",ne,p(a.nom_comunes),1),e("p",ce,p(a.nombre_cientifico),1)]),ie,e("div",re,[e("div",_e,[e("p",de,[d(o,{icon:["fas","hashtag"]}),b(" Código especie: ")]),e("p",le,p(a.cod_especie),1)]),e("div",ue,[e("p",pe,[d(o,{icon:["fas","magnifying-glass-location"]}),b(" Monitoreos: ")]),e("p",ge,p(a.monitoreos),1)]),e("div",he,[e("p",ve,[d(o,{icon:["fas","vial"]}),b(" Muestras: ")]),e("p",fe,p(a.muestras),1)]),e("div",me,[e("p",be,[d(o,{icon:["fas","dna"]}),b(" Evaluados: ")]),e("p",Pe,p(a.evaluados),1)])])]))),128))]),e("section",ye,[e("div",ke,[t(s).currentPage>1?(r(),_("button",{key:0,class:"paginador__boton paginador__boton--anterior",onClick:n[3]||(n[3]=a=>t(s).changePage(t(s).currentPage-1))},[d(o,{icon:["fas","angles-left"]})])):f("",!0),(r(!0),_(C,null,w(g.value,a=>(r(),_("button",{key:a,onClick:m=>t(s).changePage(a),class:j(["paginador__boton",{"paginador__boton-actual":a===t(s).currentPage}])},p(a),11,De))),128)),t(s).currentPage<t(s).totalPages?(r(),_("button",{key:1,class:"paginador__boton paginador__boton--siguiente",onClick:n[4]||(n[4]=a=>t(s).changePage(t(s).currentPage+1))},[d(o,{icon:["fas","angles-right"]})])):f("",!0)])]),e("section",Ce,[t(s).especiesData.length==0&&!t(s).cargando?(r(),_("h1",we," No hay resultados de búsqueda ")):f("",!0)])])}}},xe=N(Se,[["__scopeId","data-v-7e073032"]]);export{xe as default};
