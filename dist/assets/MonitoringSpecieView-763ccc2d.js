import{_ as w,r as v,h as S,v as V,b as l,c as n,d as a,t as _,l as t,w as P,x as F,m as p,y as E,I as z,q as m,F as g,i as j,k as b,n as f,p as A,e as T}from"./index-58a73ee5.js";import{A as N}from"./Alert-ecd7952e.js";import{u as B}from"./SpecieMonitoring-51e7251a.js";import{a as D,o as x,c as q}from"./index-8422d5f6.js";import"./jspdf.plugin.autotable-7b5e9f4b.js";const c=h=>(A("data-v-6bddafeb"),h=h(),T(),h),L={class:"reporte__heading"},U={class:"contenido__header"},R={class:"buscador"},G=c(()=>a("legend",null,"Filtrar fecha de monitoreo",-1)),H={class:"buscador__flex"},J={class:"buscador__inputs"},K=c(()=>a("label",{class:"buscador__label"},"Fecha inicial: ",-1)),O=c(()=>a("label",{class:"buscador__label"},"Fecha final: ",-1)),Q={class:"buscador__botones"},W={key:0,class:"botones__descarga"},X=c(()=>a("hr",null,null,-1)),Y={class:"tabla"},Z=c(()=>a("thead",{class:"tabla__encabezado"},[a("tr",{class:"tabla__fila"},[a("th",{class:"dato__encabezado fecha"},"Fecha monitoreo"),a("th",{class:"dato__encabezado"},"Altura total"),a("th",{class:"dato__encabezado"},"Altura comercial"),a("th",{class:"dato__encabezado"},"Estado Follaje"),a("th",{class:"dato__encabezado"},"Tamaño follaje")])],-1)),aa={class:"tabla__contenido"},ea={class:"tabla__dato fecha"},oa=c(()=>a("span",{class:"nombre__campo"},"Fecha monitoreo",-1)),ta=c(()=>a("span",{class:"nombre__campo"},"Altura Total: ",-1)),sa=c(()=>a("span",{class:"nombre__campo"},"Altura comerical: ",-1)),la=c(()=>a("span",{class:"nombre__campo"},"Follaje estado: ",-1)),na=c(()=>a("span",{class:"nombre__campo"},"Tamaño Follaje: ",-1)),ca={class:"paginador"},ra={class:"paginador__botones"},_a=["onClick"],ia={class:"validacion__contenido"},da={key:0,class:"validacion__heading"},ua={__name:"MonitoringSpecieView",setup(h){const o=B(),i=v(""),d=v(""),u=v(""),I=()=>{i.value="",d.value="",o.limpiarFiltroFecha()},C=()=>{if(!d.value||!i.value){u.value="Debe ingresar un rango de fechas",setTimeout(()=>{u.value=""},3e3);return}if(i.value>d.value){u.value="La fecha inicial no puede ser mayor a la fecha final",setTimeout(()=>{u.value=""},3e3);return}o.filtrarFecha(i.value,d.value)},k=S(()=>{const y=o.currentPage,s=o.totalPages,r=Math.max(1,y-1),e=Math.min(s,r+3);return Array.from({length:e-r+1},(M,$)=>r+$)});return(y,s)=>{const r=V("font-awesome-icon");return l(),n(g,null,[a("h1",L," Monitoreos de la especie "+_(t(o).nombreEspecie),1),a("div",U,[a("fieldset",R,[G,a("div",H,[a("div",J,[a("div",null,[K,P(a("input",{class:"buscador__input",type:"date","onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e)},null,512),[[F,i.value]])]),a("div",null,[O,P(a("input",{class:"buscador__input",type:"date","onUpdate:modelValue":s[1]||(s[1]=e=>d.value=e)},null,512),[[F,d.value]])])]),a("div",Q,[a("button",{onClick:s[2]||(s[2]=e=>C()),class:"buscador__boton"}," Filtrar fechas "),i.value&&d.value?(l(),n("button",{key:0,onClick:I,class:"buscador__boton buscador__boton--limpiar"}," limpiar filtro ")):p("",!0)])]),u.value?(l(),E(N,{key:0},{default:z(()=>[a("p",null,_(u.value),1)]),_:1})):p("",!0)]),k.value.length>1?(l(),n("div",W,[a("a",{onClick:s[3]||(s[3]=e=>t(D)(t(o).datosImport,`Monitoreos ${t(o).nombreEspecie} - ${t(x)()}`)),class:"boton",href:"#"},[m(r,{class:"boton__excel",icon:["fas","file-excel"]})]),a("a",{onClick:s[4]||(s[4]=e=>t(q)(t(o).datosImport,`Monitoreos de la especie ${t(o).nombreEspecie} - ${t(x)()}`,11,5)),class:"boton",href:"#"},[m(r,{class:"boton__pdf",icon:["fas","file-pdf"]})])])):p("",!0)]),X,a("main",null,[a("table",Y,[Z,a("tbody",aa,[(l(!0),n(g,null,j(t(o).displayedMonitoring,e=>(l(),n("tr",{class:"tabla__fila",key:e.IDmonitoreo},[a("td",ea,[oa,b(" "+_(e.fecha_monitoreo),1)]),a("td",{class:f(["tabla__dato",{sinInfo:!e.altura_total}])},[ta,b(_(e.altura_total?e.altura_total:"Por evaluar"),1)],2),a("td",{class:f(["tabla__dato",{sinInfo:!e.altura_comercial}])},[sa,b(_(e.altura_comercial?e.altura_comercial:"Por evaluar"),1)],2),a("td",{class:f(["tabla__dato",{sinInfo:!e.follaje}])},[la,b(_(e.follaje?e.follaje:"Por evaluar"),1)],2),a("td",{class:f(["tabla__dato tabla__ultimo",{sinInfo:!e.follaje_porcentaje}])},[na,b(_(e.follaje_porcentaje?e.follaje_porcentaje:"Por evaluar"),1)],2)]))),128))])])]),a("section",ca,[a("div",ra,[t(o).currentPage>1?(l(),n("button",{key:0,class:"paginador__boton paginador__boton--anterior",onClick:s[5]||(s[5]=e=>t(o).changePage(t(o).currentPage-1))},[m(r,{icon:["fas","angles-left"]})])):p("",!0),(l(!0),n(g,null,j(k.value,e=>(l(),n("button",{key:e,onClick:M=>t(o).changePage(e),class:f(["paginador__boton",{"paginador__boton-actual":e===t(o).currentPage}])},_(e),11,_a))),128)),t(o).currentPage<t(o).totalPages?(l(),n("button",{key:1,class:"paginador__boton paginador__boton--siguiente",onClick:s[6]||(s[6]=e=>t(o).changePage(t(o).currentPage+1))},[m(r,{icon:["fas","angles-right"]})])):p("",!0)])]),a("section",ia,[t(o).monitoreosEspecie.length==0?(l(),n("h1",da," No hay resultados de búsqueda ")):p("",!0)])],64)}}},va=w(ua,[["__scopeId","data-v-6bddafeb"]]);export{va as default};
