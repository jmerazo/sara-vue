import{B as J,r as A,o as X,C as K,E as F,h as j,_ as O,M as Q,l as _,b as f,c as h,d as e,K as ee,w as i,x as u,H as $,F as w,i as B,t as d,G as D,m as k,p as T,e as Z,U as N,v as H,k as v,n as c,q as S,s as ae,y as oe}from"./index-58a73ee5.js";import{b as z,a as te,o as Y,d as le}from"./index-8422d5f6.js";import{u as W}from"./modal-07ceaae3.js";import{L as ne}from"./LoadingData-b11b812f.js";import{u as ie}from"./species-f69c1e72.js";import{u as se}from"./candidate-bb7863ad.js";import"./jspdf.plugin.autotable-7b5e9f4b.js";/* empty css                                                                    */const de=J("generalEvaluations",()=>{const o=A({}),g=A([]),r=A([]),p=A(!1),x=A(1),C=A(12);X(async()=>{p.value=!0;const{data:b}=await K.getAssessmentData();o.value=b,g.value=b,z(o.value,"eventDate"),z(g.value,"eventDate"),p.value=!1});function m(){o.value.forEach(b=>{console.log(b);const{eventDate:V,cod_expediente:P}=b,{vernacularName:M,scientificName:s,scientificNameAuthorship:l}=b.cod_especie;r.value.push([V,P,M,`${s} - ${l}`])})}F(()=>o.value,()=>{r.value=[],m()},{deep:!0});function y(b){E(1),o.value=g.value.filter(V=>{const P=b.toLowerCase(),M=V.cod_expediente?V.cod_expediente.toLowerCase():"",s=V.numero_placa!=null?V.numero_placa.toString():"";return M.includes(P)||s===b})}const a=j(()=>Math.ceil(o.value.length/C.value)),I=j(()=>{try{const b=(x.value-1)*C.value,V=b+C.value;return o.value.slice(b,V)}catch{console.log("esperando paginación...")}});function E(b){b>=1&&b<=a.value&&(x.value=b)}function R(){g.value&&(o.value=g.value)}return{cargando:p,currentPage:x,itemsPerPage:C,totalPages:a,datosImport:r,evaluacionData:o,displayedData:I,changePage:E,buscarTermino:y,quitarFiltroBuscado:R}});const n=o=>(T("data-v-310ed1d8"),o=o(),Z(),o),ue={key:0,class:"modal"},ce={class:"modal__contenido"},re={class:"form__addCandidate"},ve=n(()=>e("div",{class:"title__addCandidate"},[e("span",null,"Registrar nuevo individuo")],-1)),pe=["onSubmit"],_e={class:"form-section data__evaluation"},me=n(()=>e("label",null,"Código individuo: ",-1)),be=["placeholder"],fe=n(()=>e("label",{class:"formulario__label",for:"species"},"Especies:",-1)),ge=n(()=>e("option",{value:"",selected:"",disabled:""},"-- Seleccione una especie --",-1)),he=["value"],Ce=n(()=>e("label",null,"Fecha: ",-1)),ye=n(()=>e("label",null,"Usuario: ",-1)),$e=["placeholder"],xe={class:"form-section data__ubication"},Ie=n(()=>e("label",{class:"formulario__label",for:"departamento"},"Departamento:",-1)),Ve=n(()=>e("option",{value:""},"--Seleccione--",-1)),Se=["value"],Ne={class:"formulario__label",for:"municipio"},Ue=n(()=>e("option",{value:""},"-- Seleccione--",-1)),Ae=["value"],je=n(()=>e("label",null,"Nombre del predio: ",-1)),Ee=n(()=>e("label",null,"Nombre propietario: ",-1)),De=n(()=>e("label",null,"Corregimiento: ",-1)),ke=n(()=>e("label",null,"Vereda: ",-1)),Pe=n(()=>e("label",null,"Correo: ",-1)),Me=n(()=>e("label",null,"Celular: ",-1)),we=n(()=>e("label",null,"Altitud: ",-1)),Be=n(()=>e("label",null,"Latitud: ",-1)),qe=n(()=>e("option",{value:"N"},"Norte (N)",-1)),Fe=n(()=>e("option",{value:"S"},"Sur (S)",-1)),Le=[qe,Fe],Re=n(()=>e("label",null,"Grados: ",-1)),Oe=n(()=>e("label",null,"Minutos: ",-1)),Te=n(()=>e("label",null,"Segundos: ",-1)),Ze=n(()=>e("label",null,"Longitud: ",-1)),Ge=n(()=>e("option",{value:"W"},"Oeste (W)",-1)),ze=n(()=>e("option",{value:"E"},"Este (E)",-1)),Ye=[Ge,ze],Xe=n(()=>e("label",null,"Grados: ",-1)),He=n(()=>e("label",null,"Minutos: ",-1)),We=n(()=>e("label",null,"Segundos: ",-1)),Je=n(()=>e("label",null,"Coordenadas decimales: ",-1)),Ke=n(()=>e("label",null,"Coordenadas: ",-1)),Qe=["placeholder"],ea={class:"form-section data__candidate"},aa=n(()=>e("label",null,"Altura total: ",-1)),oa=n(()=>e("label",null,"Altura del fuste: ",-1)),ta=n(()=>e("label",null,"CAP: ",-1)),la=n(()=>e("label",null,"Eje X: ",-1)),na=n(()=>e("label",null,"Eje Y: ",-1)),ia=n(()=>e("label",null,"Eje Z: ",-1)),sa=n(()=>e("label",null,"Cobertura: ",-1)),da=N('<option value="" disabled selected data-v-310ed1d8>-- Seleccione una cobertura --</option><option value="Bosque natural" data-v-310ed1d8>Bosque natural</option><option value="Rastrojo alto" data-v-310ed1d8>Rastrojo alto</option><option value="Rastrojo bajo" data-v-310ed1d8>Rastrojo bajo</option><option value="Cerca viva" data-v-310ed1d8>Cerca viva</option><option value="Sistema agroforestal" data-v-310ed1d8>Sistema agroforestal</option><option value="Zonas verdes" data-v-310ed1d8>Zonas verdes</option><option value="Cultivo forestal (Reforestación)" data-v-310ed1d8>Cultivo forestal (Reforestación)</option><option value="Árbol aislado en otro tipo de cobertura - ¿Cual?" data-v-310ed1d8>Árbol aislado en otro tipo de cobertura - ¿Cual?</option>',9),ua=[da],ca=n(()=>e("label",null,"Entorno del individuo: ",-1)),ra=N('<option value="" disabled selected data-v-310ed1d8>-- Seleccione un entorno --</option><option value="Individuo sólo" data-v-310ed1d8>Individuo sólo</option><option value="Sistema agroforestal" data-v-310ed1d8>Sistema agroforestal</option><option value="Agrupación significativa de la misma especie" data-v-310ed1d8>Agrupación significativa de la misma especie</option><option value="Asociación arbórea con otras especies forestales" data-v-310ed1d8>Asociación arbórea con otras especies forestales</option><option value="Otro, ¿Cuál?" data-v-310ed1d8>Otro, ¿Cuál?</option>',6),va=[ra],pa=n(()=>e("label",null,"Especies forestales asociadas: ",-1)),_a={class:"form-section data__items"},ma=n(()=>e("label",null,"Dominancia del individuo forestal: ",-1)),ba=N('<option value="" disabled selected data-v-310ed1d8>-- Seleccione dominancia --</option><option value="(4) Dominante" data-v-310ed1d8>(4) Dominante</option><option value="(3) Codominantes" data-v-310ed1d8>(3) Codominantes</option><option value="(1) Intermedios" data-v-310ed1d8>(1) Intermedios</option><option value="(0) Dominados" data-v-310ed1d8>(0) Dominados</option>',5),fa=[ba],ga=n(()=>e("label",null,"Forma del fuste: ",-1)),ha=N('<option value="" disabled selected data-v-310ed1d8>-- Seleccione forma fuste --</option><option value="(6) Recto" data-v-310ed1d8>(6) Recto</option><option value="(4) Inclinado o ligeramente torcido" data-v-310ed1d8>(4) Inclinado o ligeramente torcido</option><option value="(3) Torcido o recto torcido" data-v-310ed1d8>(3) Torcido o recto torcido</option><option value="(1) Muy torcido" data-v-310ed1d8>(1) Muy torcido</option>',5),Ca=[ha],ya=n(()=>e("label",null,"Dominancia del eje principal: ",-1)),$a=n(()=>e("option",{value:"",disabled:"",selected:""},"-- Seleccione dominancia eje --",-1)),xa=n(()=>e("option",{value:"(2) Dominancia completa del eje inicial"},"(2) Dominancia completa del eje inicial",-1)),Ia=n(()=>e("option",{value:"(1) Dominancia parcial del eje inicial sobre las ramas laterales"},"(1) Dominancia parcial del eje inicial sobre las ramas laterales",-1)),Va=n(()=>e("option",{value:"(0) Dominancia completa de ramas laterales"},"(0) Dominancia completa de ramas laterales",-1)),Sa=[$a,xa,Ia,Va],Na=n(()=>e("label",null,"Altura de la bifurcación: ",-1)),Ua=N('<option value="" disabled selected data-v-310ed1d8>-- Seleccione altura bifurcación --</option><option value="(6) No bifurcado" data-v-310ed1d8>(6) No bifurcado</option><option value="(4) Bifurcado en el 1/3 superior" data-v-310ed1d8>(4) Bifurcado en el 1/3 superior</option><option value="(3) Bifurcado en el 1/3 medio" data-v-310ed1d8>(3) Bifurcado en el 1/3 medio</option><option value="(1) Bifurcado en el 1/3 inferior" data-v-310ed1d8>(1) Bifurcado en el 1/3 inferior</option>',5),Aa=[Ua],ja=n(()=>e("label",null,"Estado de la copa: ",-1)),Ea=N('<option value="" disabled selected data-v-310ed1d8>-- Seleccione estado copa --</option><option value="(5) Circular" data-v-310ed1d8>(5) Circular</option><option value="(4) Circular irregular" data-v-310ed1d8>(4) Circular irregular</option><option value="(3) Medio círculo" data-v-310ed1d8>(3) Medio círculo</option><option value="(2) Menos de medio círculo" data-v-310ed1d8>(2) Menos de medio círculo</option><option value="(1) Pocas ramas" data-v-310ed1d8>(1) Pocas ramas</option>',6),Da=[Ea],ka=n(()=>e("label",null,"Posición de la copa: ",-1)),Pa=N('<option value="" disabled selected data-v-310ed1d8>-- Seleccione posición copa --</option><option value="(5) Emergente" data-v-310ed1d8>(5) Emergente</option><option value="(4) Plena iluminación superior" data-v-310ed1d8>(4) Plena iluminación superior</option><option value="(3) Alguna iluminación superior" data-v-310ed1d8>(3) Alguna iluminación superior</option><option value="(2)  Iluminación lateral" data-v-310ed1d8>(2) Iluminación lateral</option><option value="(1) Ninguna iluminación directa" data-v-310ed1d8>(1) Ninguna iluminación directa</option>',6),Ma=[Pa],wa=n(()=>e("label",null,"Estado fitosanitario: ",-1)),Ba=N('<option value="" disabled selected data-v-310ed1d8>-- Seleccione estado fitosanitario --</option><option value="(6) Sano" data-v-310ed1d8>(6) Sano</option><option value="(4) Ataque hasta 1/3 del  fuste" data-v-310ed1d8>(4) Ataque hasta 1/3 del fuste</option><option value="(3) Ataque hasta 2/3 del  fuste" data-v-310ed1d8>(3) Ataque hasta 2/3 del fuste</option><option value="(1) Ataque superior a 2/3 del  fuste" data-v-310ed1d8>(1) Ataque superior a 2/3 del fuste</option>',5),qa=[Ba],Fa=n(()=>e("label",null,"Presencia de parasitas: ",-1)),La=N('<option value="" disabled selected data-v-310ed1d8>-- Seleccione presencia parasitas --</option><option value="(6) Árbol libre de lianas y/ó bejucos" data-v-310ed1d8>(6) Árbol libre de lianas y/ó bejucos</option><option value="(4) Árbol con lianas y/ó bejucos en el fuste" data-v-310ed1d8>(4) Árbol con lianas y/ó bejucos en el fuste</option><option value="(2) Árbol con lianas y bejucos en el fuste y copa, presencia leve" data-v-310ed1d8>(2) Árbol con lianas y bejucos en el fuste y copa, presencia leve</option><option value="(1) Árbol con lianas y bejucos en el fuste y copa grado severo" data-v-310ed1d8>(1) Árbol con lianas y bejucos en el fuste y copa grado severo</option>',5),Ra=[La],Oa=n(()=>e("label",null,"Resultado: ",-1)),Ta=n(()=>e("label",null,"Evaluación: ",-1)),Za=n(()=>e("label",null,"Observaciones: ",-1)),Ga={class:"formulario__botones"},za=n(()=>e("button",{type:"submit",class:"formulario__boton"},"Guardar",-1)),Ya={__name:"ModalCandidateAdd",setup(o){const g=Q(),r=ie(),p=se(),x=W(),C=j(()=>{const s=m(10);let l="";a.value.departamento===86&&(l="001"),a.value.departamento===18&&(l="002"),a.value.departamento===91&&(l="003");const t=new Date().getFullYear().toString().slice(-2);a.value.ShortcutIDEV=s;var U=`PS-${a.value.cod_especie}-${a.value.departamento}-${a.value.municipio}-${s}-${l}-${t}`;return a.value.cod_expediente=U,U});function m(s){for(var l="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",U=t.length,G=0;G<s;G++)l+=t.charAt(Math.floor(Math.random()*U));return l}const y=j(()=>{const{departamento:s}=a.value;return s?g.cities.filter(t=>t.department_id===s):[]}),a=A({ShortcutIDEV:"",cod_expediente:"",cod_especie:"",fecha_evaluacion:"",usuario_evaluador:"",departamento:"",municipio:"",nombre_del_predio:"",nombre_propietario:"",corregimiento:"",vereda:"",correo:"",celular:"",altitud:"",latitud:"",g_lat:"",m_lat:"",s_lat:"",longitud:"",g_long:"",m_long:"",s_long:"",coordenadas_decimales:"",abcisa_xy:"",altura_total:"",altura_fuste:"",cap:"",eje_x:"",eje_y:"",eje_z:"",cobertura:"",cober_otro:"",entorno_individuo:"",entorno_otro:"",especies_forestales_asociadas:"",dominancia_if:"",forma_fuste:"",dominancia:"",alt_bifurcacion:"",estado_copa:"",posicion_copa:"",fitosanitario:"",presencia:"",resultado:"",evaluacion:"",observaciones:""}),I=A({}),E=localStorage.getItem("user_data");E&&(I.value=JSON.parse(E)),X(()=>{const s=new Date;a.value.fecha_evaluacion=s.toISOString().split("T")[0],a.value.usuario_evaluador=I.id});function R(){Object.keys(a.value).forEach(s=>{a.value[s]=""})}const b=()=>{try{p.addCandidate(a.value),R(),x.handleClickModalForestSpecieAdd()}catch(s){s.response&&s.response.data&&s.response.data.error?alert(s.response.data.error):alert("Ocurrió un error al procesar la solicitud.")}},V=j(()=>{let s=Number(a.value.g_lat)+Number(a.value.m_lat)/60+Number(a.value.s_lat)/3600,l=Number(a.value.g_long)+Number(a.value.m_long)/60+Number(a.value.s_long)/3600;return a.value.latitud==="S"&&(s=-s),a.value.longitud==="E"&&(l=-l),s.toFixed(6)+", "+l.toFixed(6)});F(V,s=>{a.value.coordenadas_decimales=s}),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(s){const l=s.coords.latitude,t=s.coords.longitude;a.value.abcisa_xy=`${l}, ${t}`},function(s){console.error("Error obteniendo la ubicación: ",s)}):console.log("Geolocalización no está disponible en tu navegador");const P=j(()=>{let s=0;return[a.value.dominancia_if,a.value.forma_fuste,a.value.dominancia,a.value.alt_bifurcacion,a.value.estado_copa,a.value.posicion_copa,a.value.fitosanitario,a.value.presencia].forEach(t=>{const U=t.match(/\((\d+)\)/);U&&U[1]&&(s+=parseInt(U[1],10))}),s});F(P,s=>{a.value.resultado=s});const M=j(()=>{const s=a.value.resultado;return s>34?"El individuo cumple a cabalidad las características como árbol semillero.":s>=28&&s<=34?"El individuo cumple la mayor parte de características pero debe evaluarse algunas condiciones especiales con mayor detenimiento.":s>=18&&s<28?"El individuo no cumple cabalmente las características como árbol semillero, solo se seleccionaría en caso que no se cuente con más individuos.":s<18?"Descartar, el individuo porque no cumple las características como árbol semillero.":""});return F(M,s=>{a.value.evaluacion=s}),(s,l)=>_(x).modalCandidatesAdd?(f(),h("div",ue,[e("div",ce,[e("div",re,[ve,e("form",{onSubmit:ee(b,["prevent"])},[e("div",_e,[me,i(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=t=>a.value.cod_expediente=t),placeholder:C.value,disabled:""},null,8,be),[[u,a.value.cod_expediente]]),fe,i(e("select",{id:"departamento",class:"formulario__input formulario__input--select","onUpdate:modelValue":l[1]||(l[1]=t=>a.value.cod_especie=t)},[ge,(f(!0),h(w,null,B(_(r).especies,t=>(f(),h("option",{key:t.cod_especie,value:t.cod_especie},d(t.cod_especie+" - "+t.nom_comunes+" - "+t.nombre_cientifico),9,he))),128))],512),[[$,a.value.cod_especie]]),Ce,i(e("input",{type:"date","onUpdate:modelValue":l[2]||(l[2]=t=>a.value.fecha_evaluacion=t),placeholder:""},null,512),[[u,a.value.fecha_evaluacion]]),ye,i(e("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=t=>a.value.usuario_evaluador=t),placeholder:I.value.first_name+" "+I.value.last_name,disabled:""},null,8,$e),[[u,a.value.usuario_evaluador]])]),e("div",xe,[Ie,i(e("select",{id:"departamento",class:"formulario__input formulario__input--selectc","onUpdate:modelValue":l[4]||(l[4]=t=>a.value.departamento=t)},[Ve,(f(!0),h(w,null,B(_(g).departments,t=>(f(),h("option",{key:t.id,value:t.code},d(t.name),9,Se))),128))],512),[[$,a.value.departamento]]),i(e("label",Ne,"Ciudad:",512),[[D,y.value.length]]),i(e("select",{id:"municipio",class:"formulario__input formulario__input--select","onUpdate:modelValue":l[5]||(l[5]=t=>a.value.municipio=t)},[Ue,(f(!0),h(w,null,B(y.value,t=>(f(),h("option",{key:t.id,value:t.id},d(t.name),9,Ae))),128))],512),[[$,a.value.municipio],[D,y.value.length]]),je,i(e("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=t=>a.value.nombre_del_predio=t),placeholder:""},null,512),[[u,a.value.nombre_del_predio]]),Ee,i(e("input",{type:"text","onUpdate:modelValue":l[7]||(l[7]=t=>a.value.nombre_propietario=t),placeholder:""},null,512),[[u,a.value.nombre_propietario]]),De,i(e("input",{type:"text","onUpdate:modelValue":l[8]||(l[8]=t=>a.value.corregimiento=t),placeholder:""},null,512),[[u,a.value.corregimiento]]),ke,i(e("input",{type:"text","onUpdate:modelValue":l[9]||(l[9]=t=>a.value.vereda=t),placeholder:""},null,512),[[u,a.value.vereda]]),Pe,i(e("input",{type:"email","onUpdate:modelValue":l[10]||(l[10]=t=>a.value.correo=t),placeholder:""},null,512),[[u,a.value.correo]]),Me,i(e("input",{type:"tel","onUpdate:modelValue":l[11]||(l[11]=t=>a.value.celular=t),placeholder:""},null,512),[[u,a.value.celular]]),we,i(e("input",{type:"number","onUpdate:modelValue":l[12]||(l[12]=t=>a.value.altitud=t),placeholder:""},null,512),[[u,a.value.altitud,void 0,{number:!0}]]),Be,i(e("select",{"onUpdate:modelValue":l[13]||(l[13]=t=>a.value.latitud=t)},Le,512),[[$,a.value.latitud]]),Re,i(e("input",{type:"number","onUpdate:modelValue":l[14]||(l[14]=t=>a.value.g_lat=t),placeholder:""},null,512),[[u,a.value.g_lat,void 0,{number:!0}]]),Oe,i(e("input",{type:"number","onUpdate:modelValue":l[15]||(l[15]=t=>a.value.m_lat=t),placeholder:""},null,512),[[u,a.value.m_lat,void 0,{number:!0}]]),Te,i(e("input",{type:"number","onUpdate:modelValue":l[16]||(l[16]=t=>a.value.s_lat=t),placeholder:""},null,512),[[u,a.value.s_lat,void 0,{number:!0}]]),Ze,i(e("select",{"onUpdate:modelValue":l[17]||(l[17]=t=>a.value.longitud=t)},Ye,512),[[$,a.value.longitud]]),Xe,i(e("input",{type:"number","onUpdate:modelValue":l[18]||(l[18]=t=>a.value.g_long=t),placeholder:""},null,512),[[u,a.value.g_long,void 0,{number:!0}]]),He,i(e("input",{type:"number","onUpdate:modelValue":l[19]||(l[19]=t=>a.value.m_long=t),placeholder:""},null,512),[[u,a.value.m_long,void 0,{number:!0}]]),We,i(e("input",{type:"number","onUpdate:modelValue":l[20]||(l[20]=t=>a.value.s_long=t),placeholder:""},null,512),[[u,a.value.s_long,void 0,{number:!0}]]),Je,i(e("input",{type:"text","onUpdate:modelValue":l[21]||(l[21]=t=>a.value.coordenadas_decimales=t),placeholder:"",disabled:""},null,512),[[u,a.value.coordenadas_decimales]]),Ke,i(e("input",{type:"text","onUpdate:modelValue":l[22]||(l[22]=t=>a.value.abcisa_xy=t),placeholder:a.value.abcisa_xy,disabled:""},null,8,Qe),[[u,a.value.abcisa_xy]])]),e("div",ea,[aa,i(e("input",{type:"number","onUpdate:modelValue":l[23]||(l[23]=t=>a.value.altura_total=t),placeholder:""},null,512),[[u,a.value.altura_total,void 0,{number:!0}]]),oa,i(e("input",{type:"number","onUpdate:modelValue":l[24]||(l[24]=t=>a.value.altura_fuste=t),placeholder:""},null,512),[[u,a.value.altura_fuste,void 0,{number:!0}]]),ta,i(e("input",{type:"number","onUpdate:modelValue":l[25]||(l[25]=t=>a.value.cap=t),placeholder:""},null,512),[[u,a.value.cap,void 0,{number:!0}]]),la,i(e("input",{type:"number","onUpdate:modelValue":l[26]||(l[26]=t=>a.value.eje_x=t),placeholder:""},null,512),[[u,a.value.eje_x,void 0,{number:!0}]]),na,i(e("input",{type:"number","onUpdate:modelValue":l[27]||(l[27]=t=>a.value.eje_y=t),placeholder:""},null,512),[[u,a.value.eje_y,void 0,{number:!0}]]),ia,i(e("input",{type:"number","onUpdate:modelValue":l[28]||(l[28]=t=>a.value.eje_z=t),placeholder:""},null,512),[[u,a.value.eje_z,void 0,{number:!0}]]),sa,i(e("select",{"onUpdate:modelValue":l[29]||(l[29]=t=>a.value.cobertura=t)},ua,512),[[$,a.value.cobertura]]),i(e("label",null,"Otra cobertura: ",512),[[D,a.value.cobertura==="Árbol aislado en otro tipo de cobertura - ¿Cual?"]]),i(e("input",{type:"text","onUpdate:modelValue":l[30]||(l[30]=t=>a.value.cober_otro=t),placeholder:""},null,512),[[D,a.value.cobertura==="Árbol aislado en otro tipo de cobertura - ¿Cual?"],[u,a.value.cober_otro]]),ca,i(e("select",{"onUpdate:modelValue":l[31]||(l[31]=t=>a.value.entorno_individuo=t)},va,512),[[$,a.value.entorno_individuo]]),i(e("label",null,"Otro entorno del individuo: ",512),[[D,a.value.entorno_individuo==="Otro, ¿Cuál?"]]),i(e("input",{type:"text","onUpdate:modelValue":l[32]||(l[32]=t=>a.value.entorno_otro=t),placeholder:""},null,512),[[D,a.value.entorno_individuo==="Otro, ¿Cuál?"],[u,a.value.entorno_otro]]),pa,i(e("input",{type:"text","onUpdate:modelValue":l[33]||(l[33]=t=>a.value.especies_forestales_asociadas=t),placeholder:""},null,512),[[u,a.value.especies_forestales_asociadas]])]),e("div",_a,[ma,i(e("select",{"onUpdate:modelValue":l[34]||(l[34]=t=>a.value.dominancia_if=t)},fa,512),[[$,a.value.dominancia_if]]),ga,i(e("select",{"onUpdate:modelValue":l[35]||(l[35]=t=>a.value.forma_fuste=t)},Ca,512),[[$,a.value.forma_fuste]]),ya,i(e("select",{"onUpdate:modelValue":l[36]||(l[36]=t=>a.value.dominancia=t)},Sa,512),[[$,a.value.dominancia]]),Na,i(e("select",{"onUpdate:modelValue":l[37]||(l[37]=t=>a.value.alt_bifurcacion=t)},Aa,512),[[$,a.value.alt_bifurcacion]]),ja,i(e("select",{"onUpdate:modelValue":l[38]||(l[38]=t=>a.value.estado_copa=t)},Da,512),[[$,a.value.estado_copa]]),ka,i(e("select",{"onUpdate:modelValue":l[39]||(l[39]=t=>a.value.posicion_copa=t)},Ma,512),[[$,a.value.posicion_copa]]),wa,i(e("select",{"onUpdate:modelValue":l[40]||(l[40]=t=>a.value.fitosanitario=t)},qa,512),[[$,a.value.fitosanitario]]),Fa,i(e("select",{"onUpdate:modelValue":l[41]||(l[41]=t=>a.value.presencia=t)},Ra,512),[[$,a.value.presencia]]),Oa,i(e("input",{type:"number","onUpdate:modelValue":l[42]||(l[42]=t=>a.value.resultado=t),placeholder:"",disabled:""},null,512),[[u,a.value.resultado,void 0,{number:!0}]]),Ta,i(e("textarea",{"onUpdate:modelValue":l[43]||(l[43]=t=>a.value.evaluacion=t),placeholder:"",disabled:""},null,512),[[u,a.value.evaluacion]]),Za,i(e("textarea",{"onUpdate:modelValue":l[44]||(l[44]=t=>a.value.observaciones=t),placeholder:""},null,512),[[u,a.value.observaciones]])]),e("div",Ga,[za,e("button",{onClick:l[45]||(l[45]=t=>_(x).handleClickModalCandidateAdd()),type:"button",class:"formulario__boton formulario__boton--cerrar"}," Cerrar ")])],40,pe)])])])):k("",!0)}},Xa=O(Ya,[["__scopeId","data-v-310ed1d8"]]);const q=o=>(T("data-v-6cd44494"),o=o(),Z(),o),Ha={class:"card"},Wa={class:"card__encabezado"},Ja={class:"fecha__evaluacion"},Ka={class:"dato"},Qa={class:"especie"},eo=q(()=>e("svg",{class:"especie__imagen",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M16 16C17.6569 16 19 17.3431 19 19C19 20.6569 17.6569 22 16 22C14.3431 22 13 20.6569 13 19C13 17.3431 14.3431 16 16 16ZM6 12C8.20914 12 10 13.7909 10 16C10 18.2091 8.20914 20 6 20C3.79086 20 2 18.2091 2 16C2 13.7909 3.79086 12 6 12ZM16 18C15.4477 18 15 18.4477 15 19C15 19.5523 15.4477 20 16 20C16.5523 20 17 19.5523 17 19C17 18.4477 16.5523 18 16 18ZM6 14C4.89543 14 4 14.8954 4 16C4 17.1046 4.89543 18 6 18C7.10457 18 8 17.1046 8 16C8 14.8954 7.10457 14 6 14ZM14.5 2C17.5376 2 20 4.46243 20 7.5C20 10.5376 17.5376 13 14.5 13C11.4624 13 9 10.5376 9 7.5C9 4.46243 11.4624 2 14.5 2ZM14.5 4C12.567 4 11 5.567 11 7.5C11 9.433 12.567 11 14.5 11C16.433 11 18 9.433 18 7.5C18 5.567 16.433 4 14.5 4Z"})],-1)),ao=q(()=>e("p",{class:"especie__info nombre__comun"},"Expediente:",-1)),oo={class:"especie__info"},to=q(()=>e("hr",null,null,-1)),lo=["id"],no={class:"datos"},io={class:"datos__item"},so={class:"datos__item"},uo={class:"datos__item"},co={class:"datos__item"},ro={class:"datos__item"},vo={class:"datos__item"},po={class:"datos__item"},_o={class:"datos__item"},mo=["id"],bo={class:"datos"},fo=q(()=>e("h4",{class:"datos__titulo"},"Estados",-1)),go={class:"datos__item"},ho={class:"datos__item"},Co={class:"datos__item"},yo={class:"datos__item"},$o={class:"datos__item"},xo={class:"datos__item"},Io={class:"datos__item"},Vo=q(()=>e("h4",{class:"datos__titulo"},"Resultado",-1)),So={class:"datos__item"},No={class:"datos__item"},Uo={class:"datos__item"},Ao=["id"],jo={class:"datos"},Eo={class:"datos__item"},Do={class:"datos__item"},ko={class:"datos__item"},Po={class:"datos__item"},Mo={class:"datos__item"},wo={class:"datos__item"},Bo={class:"datos__item"},qo={class:"datos__item"},Fo={__name:"AssessmentCard",props:{evaluacion:{type:Object,required:!0},index:{type:Number,required:!0}},setup(o){function g(r){const p=document.getElementById(r);p.classList.contains("active")?p.classList.remove("active"):p.classList.add("active")}return(r,p)=>{const x=H("font-awesome-icon");return f(),h("div",null,[e("div",Ha,[e("div",Wa,[e("p",Ja,[v(" Fecha Evaluación: "),e("span",Ka,d(o.evaluacion.eventDate),1)])]),e("div",Qa,[eo,e("div",null,[ao,e("span",{class:c(["dato",{sinInfo:!o.evaluacion.cod_expediente}])},d(o.evaluacion.cod_expediente),3)]),e("p",oo,[v(" # placa: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.numero_placa}])},d(o.evaluacion.numero_placa?o.evaluacion.numero_placa:"Sin placa"),3)])]),to,e("div",{class:"informacion__seccion",id:o.index+"a"},[e("button",{id:"boton-especie",class:"card__boton",onClick:p[0]||(p[0]=C=>g(o.index+"a"))}," Ubicación "),e("div",no,[e("p",io,[v(" Departamento: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.departamento}])},d(o.evaluacion.departamento?o.evaluacion.departamento:"No reportado"),3)]),e("p",so,[v(" Municipio: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.municipio}])},d(o.evaluacion.municipio?o.evaluacion.municipio:"No reportado"),3)]),e("p",uo,[v(" Corregimiento: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.corregimiento}])},d(o.evaluacion.corregimiento?o.evaluacion.corregimiento:"No reportado"),3)]),e("p",co,[v(" Vereda: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.vereda}])},d(o.evaluacion.vereda?o.evaluacion.vereda:"No reportado"),3)]),e("p",ro,[v(" Predio: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.nombre_del_predio}])},d(o.evaluacion.nombre_del_predio?o.evaluacion.nombre_del_predio:"No reportado"),3)]),e("p",vo,[v(" Propietario: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.nombre_propietario}])},d(o.evaluacion.nombre_propietario?o.evaluacion.nombre_propietario:"No reportado"),3)]),e("p",po,[v(" Celular: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.celular}])},d(o.evaluacion.celular?o.evaluacion.celular:"No reportado"),3)]),e("p",_o,[v(" Correo: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.correo}])},d(o.evaluacion.correo?o.evaluacion.correo:"No reportado"),3)]),e("p",{onClick:p[1]||(p[1]=C=>g(o.index+"a")),class:"recoger"},[S(x,{icon:["fas","arrow-up-from-bracket"]})])])],8,lo),e("div",{class:"informacion__seccion",id:o.index+"b"},[e("button",{id:"boton-especie",class:"card__boton",onClick:p[2]||(p[2]=C=>g(o.index+"b"))}," Evaluación "),e("div",bo,[fo,e("p",go,[v(" Dominancia: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.dominancia}])},d(o.evaluacion.dominancia?o.evaluacion.dominancia:"No reportado"),3)]),e("p",ho,[v(" Copa: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.estado_copa}])},d(o.evaluacion.estado_copa?o.evaluacion.estado_copa:"No reportado"),3)]),e("p",Co,[v(" Posicion copa: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.posicion_copa}])},d(o.evaluacion.posicion_copa?o.evaluacion.posicion_copa:"No reportado"),3)]),e("p",yo,[v(" Forma fuste: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.forma_fuste}])},d(o.evaluacion.forma_fuste?o.evaluacion.forma_fuste:"No reportado"),3)]),e("p",$o,[v(" Alt. Bifurcacion: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.alt_bifurcacion}])},d(o.evaluacion.alt_bifurcacion?o.evaluacion.alt_bifurcacion:"No reportado"),3)]),e("p",xo,[v(" Fitosanitario: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.fitosanitario}])},d(o.evaluacion.fitosanitario?o.evaluacion.fitosanitario:"No reportado"),3)]),e("p",Io,[v(" Presencia: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.presencia}])},d(o.evaluacion.presencia?o.evaluacion.presencia:"No reportado"),3)]),Vo,e("p",So,[v(" Puntaje: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.resultado}])},d(o.evaluacion.resultado?o.evaluacion.resultado:"No reportado"),3)]),e("p",No,[e("span",{class:c(["dato",{sinInfo:!o.evaluacion.evaluacion}])},d(o.evaluacion.evaluacion?o.evaluacion.evaluacion:"No reportado"),3)]),e("p",Uo,[v(" Evaluador: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.user.first_name}])},d(o.evaluacion.user.first_name?o.evaluacion.user.first_name+" "+o.evaluacion.user.last_name:"No reportado"),3)]),e("p",{onClick:p[3]||(p[3]=C=>g(o.index+"b")),class:"recoger"},[S(x,{icon:["fas","arrow-up-from-bracket"]})])])],8,mo),e("div",{class:"informacion__seccion",id:o.index+"c"},[e("button",{id:"boton-especie",class:"card__boton",onClick:p[4]||(p[4]=C=>g(o.index+"c"))}," Atributos "),e("div",jo,[e("p",Eo,[v(" Eje X: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.eje_x}])},d(o.evaluacion.eje_x?o.evaluacion.eje_x:"No reportado"),3)]),e("p",Do,[v(" Eje Y: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.eje_y}])},d(o.evaluacion.eje_y?o.evaluacion.eje_y:"No reportado"),3)]),e("p",ko,[v(" Abcisa XY: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.abcisa_xy}])},d(o.evaluacion.abcisa_xy?o.evaluacion.abcisa_xy:"No reportado"),3)]),e("p",Po,[v(" Cap: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.cap}])},d(o.evaluacion.cap?o.evaluacion.cap:"No reportado"),3)]),e("p",Mo,[v(" Altitud: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.altitud}])},d(o.evaluacion.altitud?o.evaluacion.altitud:"No reportado"),3)]),e("p",wo,[v(" Altura comercial: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.altura_comercial}])},d(o.evaluacion.altura_comercial?o.evaluacion.altura_comercial:"No reportado"),3)]),e("p",Bo,[v(" Altura Total: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.altura_total}])},d(o.evaluacion.altura_total?o.evaluacion.altura_total:"No reportado"),3)]),e("p",qo,[v(" Cobertura: "),e("span",{class:c(["dato",{sinInfo:!o.evaluacion.cobertura}])},d(o.evaluacion.cobertura?o.evaluacion.cobertura:"No reportado"),3)]),e("p",{onClick:p[5]||(p[5]=C=>g(o.index+"c")),class:"recoger"},[S(x,{icon:["fas","arrow-up-from-bracket"]})])])],8,Ao)])])}}},Lo=O(Fo,[["__scopeId","data-v-6cd44494"]]);const L=o=>(T("data-v-e81302a3"),o=o(),Z(),o),Ro={class:"contenedor"},Oo=L(()=>e("h1",{class:"reporte__heading"},"Reporte general de evaluaciones",-1)),To={class:"contenido__header"},Zo={class:"buscador"},Go=L(()=>e("div",{class:"buscador__contenido"},null,-1)),zo=L(()=>e("label",{class:"buscador__label"},"Buscar: ",-1)),Yo={key:0,class:"botones__descarga"},Xo=L(()=>e("hr",null,null,-1)),Ho={class:"evaluaciones__grid"},Wo={class:"paginador"},Jo={class:"paginador__botones"},Ko=["onClick"],Qo={class:"validacion__contenido"},et={key:0,class:"validacion__heading"},at={__name:"AssessmentListView",setup(o){const g=W(),r=de();ae((C,m,y)=>{r.quitarFiltroBuscado(),y()});const p=j(()=>{const C=r.currentPage,m=r.totalPages,y=Math.max(1,C-1),a=Math.min(m,y+3);return Array.from({length:a-y+1},(I,E)=>y+E)}),x=[["Fecha de evaluación","Código de expediente","Especie","Nombre científico"]];return(C,m)=>{const y=H("font-awesome-icon");return f(),h("div",Ro,[Oo,e("div",To,[e("div",Zo,[Go,zo,e("input",{onInput:m[0]||(m[0]=a=>_(r).buscarTermino(a.target.value)),class:"buscador__input",type:"text",placeholder:"Escríbe un término de búsqueda"},null,32)]),p.value.length>=1?(f(),h("div",Yo,[e("a",{onClick:m[1]||(m[1]=a=>_(te)(_(r).datosImport,`Reporte general de evaluaciones - ${_(Y)()}`)),class:"boton",href:"#"},[S(y,{class:"boton__excel",icon:["fas","file-excel"]})]),e("a",{onClick:m[2]||(m[2]=a=>_(le)(_(r).datosImport,`Reporte general de evaluaciones - ${_(Y)()}`,4,0,x)),class:"boton",href:"#"},[S(y,{class:"boton__pdf",icon:["fas","file-pdf"]})])])):k("",!0)]),Xo,_(r).cargando?(f(),oe(ne,{key:0})):k("",!0),e("main",Ho,[(f(!0),h(w,null,B(_(r).displayedData,(a,I)=>(f(),h("div",{key:I},[S(Lo,{evaluacion:a,index:I},null,8,["evaluacion","index"])]))),128))]),e("section",Wo,[e("div",Jo,[_(r).currentPage>1?(f(),h("button",{key:0,class:"paginador__boton paginador__boton--anterior",onClick:m[3]||(m[3]=a=>_(r).changePage(_(r).currentPage-1))},[S(y,{icon:["fas","angles-left"]})])):k("",!0),(f(!0),h(w,null,B(p.value,a=>(f(),h("button",{key:a,onClick:I=>_(r).changePage(a),class:c(["paginador__boton",{"paginador__boton-actual":a===_(r).currentPage}])},d(a),11,Ko))),128)),_(r).currentPage<_(r).totalPages?(f(),h("button",{key:1,class:"paginador__boton paginador__boton--siguiente",onClick:m[4]||(m[4]=a=>_(r).changePage(_(r).currentPage+1))},[S(y,{icon:["fas","angles-right"]})])):k("",!0)])]),e("section",Qo,[_(r).evaluacionData.length==0&&!_(r).cargando?(f(),h("h1",et," No hay resultados de búsqueda ")):k("",!0)]),e("div",{onClick:m[5]||(m[5]=a=>_(g).handleClickModalCandidateAdd()),class:"agregar"}),S(Xa)])}}},ct=O(at,[["__scopeId","data-v-e81302a3"]]);export{ct as default};
