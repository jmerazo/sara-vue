import{_ as I,o as l,c as n,Y as V,v as g,h as w,r as E,a,t as r,b as o,x as P,N as F,k as b,l as z,O as A,j as v,F as m,i as j,Q as T,R as x,S as N,d as f,n as h,p as B,e as D}from"./index-fa7bc976.js";import{u as L}from"./SpecieMonitoring-538601ca.js";const R={},U={class:"alerta"};function q(u,t){return l(),n("div",U,[V(u.$slots,"default",{},void 0,!0)])}const O=I(R,[["render",q],["__scopeId","data-v-20b396ca"]]);const c=u=>(B("data-v-09de2afb"),u=u(),D(),u),Q={class:"contenedor"},Y={class:"reporte__heading"},G={class:"contenido__header"},H={class:"buscador"},J=c(()=>a("legend",{class:"buscador__titulo"},"Filtrar fecha de monitoreo",-1)),K={class:"buscador__flex"},W={class:"buscador__inputs"},X=c(()=>a("label",{class:"buscador__label"},"Fecha inicial: ",-1)),Z=c(()=>a("label",{class:"buscador__label"},"Fecha final: ",-1)),aa={class:"buscador__botones"},ea={key:0,class:"botones__descarga"},ta=c(()=>a("hr",null,null,-1)),oa={class:"tabla"},sa=c(()=>a("thead",{class:"tabla__encabezado"},[a("tr",{class:"tabla__fila"},[a("th",{class:"dato__encabezado fecha"},"Fecha monitoreo"),a("th",{class:"dato__encabezado"},"Altura total"),a("th",{class:"dato__encabezado"},"Altura comercial"),a("th",{class:"dato__encabezado"},"Estado Follaje"),a("th",{class:"dato__encabezado"},"Tamaño follaje")])],-1)),la={class:"tabla__contenido"},na={class:"tabla__dato fecha"},ca=c(()=>a("span",{class:"nombre__campo"},"Fecha monitoreo",-1)),_a=c(()=>a("span",{class:"nombre__campo"},"Altura Total: ",-1)),ra=c(()=>a("span",{class:"nombre__campo"},"Altura comerical: ",-1)),ia=c(()=>a("span",{class:"nombre__campo"},"Follaje estado: ",-1)),da=c(()=>a("span",{class:"nombre__campo"},"Tamaño Follaje: ",-1)),ua={class:"paginador"},pa={class:"paginador__botones"},ba=["onClick"],fa={class:"validacion__contenido"},ha={key:0,class:"validacion__heading"},va={__name:"MonitoringSpecieView",setup(u){const t=L(),i=g(""),d=g(""),p=g(""),$=()=>{i.value="",d.value="",t.limpiarFiltroFecha()},C=()=>{if(!d.value||!i.value){p.value="Debe ingresar un rango de fechas",setTimeout(()=>{p.value=""},3e3);return}if(i.value>d.value){p.value="La fecha inicial no puede ser mayor a la fecha final",setTimeout(()=>{p.value=""},3e3);return}t.filtrarFecha(i.value,d.value)},y=w(()=>{const k=t.currentPage,s=t.totalPages,_=Math.max(1,k-1),e=Math.min(s,_+3);return Array.from({length:e-_+1},(M,S)=>_+S)});return(k,s)=>{const _=E("font-awesome-icon");return l(),n(m,null,[a("div",Q,[a("h1",Y," Monitoreos de la especie "+r(o(t).nombreEspecie),1),a("div",G,[a("fieldset",H,[J,a("div",K,[a("div",W,[a("div",null,[X,P(a("input",{class:"buscador__input",type:"date","onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e)},null,512),[[F,i.value]])]),a("div",null,[Z,P(a("input",{class:"buscador__input",type:"date","onUpdate:modelValue":s[1]||(s[1]=e=>d.value=e)},null,512),[[F,d.value]])])]),a("div",aa,[a("button",{onClick:s[2]||(s[2]=e=>C()),class:"buscador__boton"}," Filtrar fechas "),i.value&&d.value?(l(),n("button",{key:0,onClick:$,class:"buscador__boton buscador__boton--limpiar"}," limpiar filtro ")):b("",!0)])]),p.value?(l(),z(O,{key:0},{default:A(()=>[a("p",null,r(p.value),1)]),_:1})):b("",!0)]),y.value.length>1?(l(),n("div",ea,[a("a",{onClick:s[3]||(s[3]=e=>o(T)(o(t).datosImport,`Monitoreos ${o(t).nombreEspecie} - ${o(x)()}`)),class:"boton",href:"#"},[v(_,{class:"boton__excel",icon:["fas","file-excel"]})]),a("a",{onClick:s[4]||(s[4]=e=>o(N)(o(t).datosImport,`Monitoreos de la especie ${o(t).nombreEspecie} - ${o(x)()}`,11,5)),class:"boton",href:"#"},[v(_,{class:"boton__pdf",icon:["fas","file-pdf"]})])])):b("",!0)])]),ta,a("main",null,[a("table",oa,[sa,a("tbody",la,[(l(!0),n(m,null,j(o(t).displayedMonitoring,e=>(l(),n("tr",{class:"tabla__fila",key:e.IDmonitoreo},[a("td",na,[ca,f(" "+r(e.fecha_monitoreo),1)]),a("td",{class:h(["tabla__dato",{sinInfo:!e.altura_total}])},[_a,f(r(e.altura_total?e.altura_total:"Por evaluar"),1)],2),a("td",{class:h(["tabla__dato",{sinInfo:!e.altura_comercial}])},[ra,f(r(e.altura_comercial?e.altura_comercial:"Por evaluar"),1)],2),a("td",{class:h(["tabla__dato",{sinInfo:!e.follaje}])},[ia,f(r(e.follaje?e.follaje:"Por evaluar"),1)],2),a("td",{class:h(["tabla__dato tabla__ultimo",{sinInfo:!e.follaje_porcentaje}])},[da,f(r(e.follaje_porcentaje?e.follaje_porcentaje:"Por evaluar"),1)],2)]))),128))])])]),a("section",ua,[a("div",pa,[o(t).currentPage>1?(l(),n("button",{key:0,class:"paginador__boton paginador__boton--anterior",onClick:s[5]||(s[5]=e=>o(t).changePage(o(t).currentPage-1))},[v(_,{icon:["fas","angles-left"]})])):b("",!0),(l(!0),n(m,null,j(y.value,e=>(l(),n("button",{key:e,onClick:M=>o(t).changePage(e),class:h(["paginador__boton",{"paginador__boton-actual":e===o(t).currentPage}])},r(e),11,ba))),128)),o(t).currentPage<o(t).totalPages?(l(),n("button",{key:1,class:"paginador__boton paginador__boton--siguiente",onClick:s[6]||(s[6]=e=>o(t).changePage(o(t).currentPage+1))},[v(_,{icon:["fas","angles-right"]})])):b("",!0)])]),a("section",fa,[o(t).monitoreosEspecie.length==0?(l(),n("h1",ha," No hay resultados de búsqueda ")):b("",!0)])],64)}}},ya=I(va,[["__scopeId","data-v-09de2afb"]]);export{ya as default};
