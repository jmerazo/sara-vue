import{B as D,a as T,r as o,E as A,h as g,C as w}from"./index-58a73ee5.js";import{u as B}from"./modal-07ceaae3.js";import{b as f}from"./index-8422d5f6.js";const j=D("candidate",()=>{const p=B(),P=T(),C=o(""),h=o(""),s=o({}),n=o([]),l=o({}),m=o({}),d=o([]),c=o(1),i=o(12),t=o(!1);async function E(a){t.value=!0,C.value=a;const{data:e}=await w.lookCandidateSpecie(a);n.value=e,l.value=e,f(n.value,"fecha_evaluacion"),f(l.value,"fecha_evaluacion"),P.push("/panel/candidates-species"),t.value=!1}function M(){n.value.forEach(a=>{d.value.push(a)})}A(()=>n.value,()=>{d.value=[],M()},{deep:!0});async function S(a){t.value=!0,h.value=a;const{data:e}=await w.lookMonitoringCandidate(a);s.value=e,f(s.value,"fecha_monitoreo"),p.handleClickModalCandidate(),t.value=!1}function _(a){r(1),n.value=l.value.filter(e=>{const v=a.toLowerCase(),x=e.cod_expediente?e.cod_expediente.toLowerCase():"",I=e.departamento?e.departamento.toLowerCase():"",L=e.municipio?e.municipio.toLowerCase():"",b=e.numero_placa!=null?e.numero_placa.toString():"";return x.includes(v)||I.includes(v)||L.includes(v)||b===a})}function y(a){m.value=a,p.handleClickModalInfoCandidate()}const u=g(()=>Math.ceil(n.value.length/i.value)),k=g(()=>{try{const a=(c.value-1)*i.value,e=a+i.value;return n.value.slice(a,e)}catch{console.log("no hay paginacion")}});function r(a){a>=1&&a<=u.value&&(c.value=a)}return{cargando:t,currentPage:c,itemsPerPage:i,totalPagesCandidates:u,nombreEspecie:C,monitoreosCandidato:s,candidatosEspecie:n,infoCandidato:m,displayedCandidates:k,datosImport:d,idCandidato:h,verCandidatosEspecie:E,verMonitoreosCandidato:S,changePageCandidates:r,mostrarInfoCandidato:y,buscarTermino:_}});export{j as u};
