import{_ as q,I as A,s as v,g as D,r as E,o as i,c as n,a as e,i as x,w as r,x as p,K as u,F as b,h,d as j,j as y,n as M,J as U,y as R,t as C,p as B,e as F,b as k,A as L}from"./index-11fdd849.js";const s=_=>(B("data-v-ae5a0556"),_=_(),F(),_),O={class:"contenedor"},P=s(()=>e("div",{class:"solicitud__header"},[e("h2",{class:"solicitud__heading"},"Solicitud de registro")],-1)),z={key:0,class:"solicitud__contenido"},J=["onSubmit"],K={class:"formulario__icono"},G={class:"formulario__grid"},H={class:"formulario__columna"},Q={class:"formulario__seccion"},W=s(()=>e("legend",null,"Datos personales",-1)),X=s(()=>e("label",{for:"document_type",class:"formulario__label"},"Tipo de documento:",-1)),Y=s(()=>e("option",{value:"Cédula de ciudadanía"}," Cédula de ciudadanía ",-1)),Z=s(()=>e("option",{value:"Tarjeta de identidad"}," Tarjeta de identidad ",-1)),$=s(()=>e("option",{value:"NIT"},"NIT",-1)),ee=s(()=>e("option",{value:"Cédula de extranjería"}," Cédula de extranjería ",-1)),oe=[Y,Z,$,ee],ae=s(()=>e("label",{for:"document_number",class:"formulario__label"},"Número de documento ",-1)),te=s(()=>e("label",{for:"first_name",class:"formulario__label"},"Nombres:",-1)),se=s(()=>e("label",{for:"last_name",class:"formulario__label"},"Apellidos:",-1)),le=s(()=>e("label",{for:"email",class:"formulario__label"},"Correo electrónico:",-1)),re=s(()=>e("label",{for:"cellphone",class:"formulario__label"},"Celular:",-1)),ie={class:"formulario__columna"},ne={class:"formulario__seccion"},ue=s(()=>e("legend",null,"Datos Laborales",-1)),de=s(()=>e("label",{for:"profession",class:"formulario__label"},"Profesión:",-1)),_e=s(()=>e("option",{value:""},"--seleccione--",-1)),ce=["value"],pe=s(()=>e("label",{for:"entity",class:"formulario__label"},"Entidad:",-1)),me=s(()=>e("label",{class:"formulario__label",for:"parametro"},"Departamento:",-1)),fe=s(()=>e("option",{value:""},"--seleccione--",-1)),ve=["value"],be={key:0},he=s(()=>e("label",{class:"formulario__label",for:"parametro"},"Ciudad:",-1)),ye=s(()=>e("option",{value:"",disabled:"",selected:""},"--seleccione--",-1)),Ce=["value"],ge=s(()=>e("label",{for:"reason",class:"formulario__label"},"Motivo solicitud:",-1)),we=R('<div class="formulario__columna ocultar" data-v-ae5a0556><fieldset class="formulario__seccion" data-v-ae5a0556><legend data-v-ae5a0556>Definir seguridad</legend><label for="password" class="formulario__label" data-v-ae5a0556>Crear Contraseña</label><input type="password" id="password" class="formulario__input formulario__input--select" required data-v-ae5a0556><div data-v-ae5a0556><label for="confirm_password" class="formulario__label" data-v-ae5a0556>Confirmar Contraseña</label><input type="password" id="confirm_password" class="formulario__input formulario__input--select" required data-v-ae5a0556></div></fieldset></div>',1),Ve=["onClick","value"],xe={key:1,class:"respuesta"},Ue={class:"respuesta__icono"},ke=s(()=>e("p",{class:"respuesta__info"},"la solicitud ha sido enviada exitosamente",-1)),Ie=s(()=>e("p",{class:"respuesta__info"},[k("Espare en su "),e("span",null,"Email"),k(" una repuesta en los siguietnes días")],-1)),Ne={__name:"AuthRegisterView",setup(_){const g=A(),t=v({document_type:"Cédula de ciudadanía",document_number:"",first_name:"",last_name:"",email:"",cellphone:"",profession:"",entity:"",reason:"",password:"123456789",confirm_password:"123456789",department:"",city:""}),d=v(""),m=v(!1),I=["Estudiante","Ingeniero","Médico","Abogado","Diseñador","Profesor"],w=D(()=>{const{department:l}=t.value;return l?g.cities.filter(c=>c.department_id===l):[]});function N(l){return Object.values(l).some(a=>a==="")}function S(){Object.keys(t.value).forEach(l=>{t.value[l]=""})}async function V(){if(N(t.value)){T("Llene todos los campos");return}try{await L.createUsers(t.value),S(),m.value=!0}catch(l){l.response&&l.response.data&&l.response.data.error?alert(l.response.data.error):alert("Ocurrió un error al procesar la solicitud.")}}function f(l){const a=l.target;a.value=a.value.toUpperCase()}const T=l=>{d.value=l,setTimeout(()=>{d.value=null},3e3)};return(l,a)=>{const c=E("font-awesome-icon");return i(),n("div",O,[P,m.value?y("",!0):(i(),n("main",z,[e("form",{onSubmit:U(V,["prevent"]),class:"formulario"},[e("p",K,[x(c,{icon:["fas","clipboard-user"]})]),e("div",G,[e("div",H,[e("fieldset",Q,[W,X,r(e("select",{"onUpdate:modelValue":a[0]||(a[0]=o=>t.value.document_type=o),id:"document_type",class:"formulario__input formulario__input--select",required:""},oe,512),[[p,t.value.document_type]]),ae,r(e("input",{"onUpdate:modelValue":a[1]||(a[1]=o=>t.value.document_number=o),type:"number",id:"document_number",class:"formulario__input",placeholder:"Número sin puntos",required:""},null,512),[[u,t.value.document_number]]),te,r(e("input",{"onUpdate:modelValue":a[2]||(a[2]=o=>t.value.first_name=o),type:"text",id:"first_name",class:"formulario__input mayus",required:"",onInput:f},null,544),[[u,t.value.first_name]]),se,r(e("input",{"onUpdate:modelValue":a[3]||(a[3]=o=>t.value.last_name=o),type:"text",id:"last_name",class:"formulario__input mayus",onInput:f,required:""},null,544),[[u,t.value.last_name]]),le,r(e("input",{"onUpdate:modelValue":a[4]||(a[4]=o=>t.value.email=o),type:"email",id:"email",class:"formulario__input",required:""},null,512),[[u,t.value.email]]),re,r(e("input",{"onUpdate:modelValue":a[5]||(a[5]=o=>t.value.cellphone=o),type:"tel",id:"cellphone",class:"formulario__input",placeholder:"Celular sin espacios",required:""},null,512),[[u,t.value.cellphone]])])]),e("div",ie,[e("fieldset",ne,[ue,de,r(e("select",{"onUpdate:modelValue":a[6]||(a[6]=o=>t.value.profession=o),id:"profession",class:"formulario__input formulario__input--select"},[_e,(i(),n(b,null,h(I,o=>e("option",{value:o,key:o},C(o),9,ce)),64))],512),[[p,t.value.profession]]),pe,r(e("input",{"onUpdate:modelValue":a[7]||(a[7]=o=>t.value.entity=o),type:"text",class:"formulario__input mayus",onInput:f},null,544),[[u,t.value.entity]]),me,r(e("select",{id:"department",class:"formulario__input formulario__input--select","onUpdate:modelValue":a[8]||(a[8]=o=>t.value.department=o)},[fe,(i(!0),n(b,null,h(j(g).departments,o=>(i(),n("option",{key:o.id,value:o.code},C(o.name),9,ve))),128))],512),[[p,t.value.department]]),w.value.length?(i(),n("div",be,[he,r(e("select",{id:"city",class:"formulario__input formulario__input--select","onUpdate:modelValue":a[9]||(a[9]=o=>t.value.city=o)},[ye,(i(!0),n(b,null,h(w.value,o=>(i(),n("option",{key:o.id,value:o.id},C(o.name),9,Ce))),128))],512),[[p,t.value.city]])])):y("",!0),ge,r(e("textarea",{"onUpdate:modelValue":a[10]||(a[10]=o=>t.value.reason=o),id:"reason",class:"formulario__input formulario__input--area",required:""},null,512),[[u,t.value.reason]])])]),we]),e("input",{id:"saveUser",type:"submit",class:M(["formulario__boton",{show:d.value}]),onClick:U(V,["prevent"]),value:d.value?d.value:"Registrarse"},null,10,Ve)],40,J)])),m.value?(i(),n("div",xe,[e("p",Ue,[x(c,{icon:["fas","clipboard-check"]})]),ke,Ie])):y("",!0)])}}},Te=q(Ne,[["__scopeId","data-v-ae5a0556"]]);export{Te as default};
